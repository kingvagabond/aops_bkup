<!DOCTYPE html>
<html>
	<head>
						<style>.async-hide { opacity: 0 !important} </style>
		<!-- Initialize the Data Layer First -->
		<script>
		window.dataLayer = window.dataLayer || [];
				</script>
		<!-- End Data Layer Initialization -->
		<!-- Page hiding snippet for Optimize -->
		<script>
		(function(a,s,y,n,c,h,i,d,e){s.className+=' '+y;
		h.end=i=function(){s.className=s.className.replace(RegExp(' ?'+y),'')};
		(a[n]=a[n]||[]).hide=h;setTimeout(function(){i();h.end=null},c);
		})(window,document.documentElement,'async-hide','dataLayer',4000,{'GTM-PJ447K5':true}); // add optimize container ID here
		</script>
		<!-- End Page hiding snippet for Optimize -->


		<!-- Google Tag Manager -->
		<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
		new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
		'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
		})(window,document,'script','dataLayer','GTM-59JWRGZ');</script>
		<!-- End Google Tag Manager -->
		<script>AoPS = {
			start_time : new Date().getTime(),
			bootstrap_data: [],
			session: {
				id: "wiki",
				user_id: 1,
				username: "Anonymous",
				avatar: "",
				logged_in: false,
				role: "unregistered_user",
				a: false,
				n: false
			}
		};
		AoPS.bd = AoPS.bootstrap_data;
		AoPS.bd.assetVersion = 2000;
		</script>

		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="initial-scale=1">



		<link rel="apple-touch-icon" href="/assets/images/apple-touch-icon.png">

		<title>Art of Problem Solving</title>



		<link rel="stylesheet" href="https://artofproblemsolving.com/assets/css/sharedsite.css">
		<link rel="stylesheet" href="https://artofproblemsolving.com/assets/css/navheader.css">
		<link rel="stylesheet" href="https://artofproblemsolving.com/assets/css/footer.css">
		<link rel="stylesheet" href="https://artofproblemsolving.com/assets/css/main-head.css">
    <link rel="icon" href="https://artofproblemsolving.com/online-favicon.ico?v=2">


		<script>
		if (!window.console) console = {log: function() {}, dir: function() {}};
		$$ = function( selector ) { return document.getElementById( selector ); }
		</script>

		<meta charset="UTF-8"/>
<title>2004 AIME I Problems/Problem 15 - AoPS Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"2004_AIME_I_Problems/Problem_15","wgTitle":"2004 AIME I Problems/Problem 15","wgCurRevisionId":131819,"wgRevisionId":131819,"wgArticleId":2674,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Intermediate Combinatorics Problems","Intermediate Number Theory Problems"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"2004_AIME_I_Problems/Problem_15","wgRelevantArticleId":2674,"wgRequestId":"bc00bfe613eb21d915c74fcc","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","site":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","skins.aops2":"ready"});mw.loader.implement("user.tokens@0p33mif",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.aops2.js"]);});</script>
<link rel="stylesheet" href="/wiki/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cskins.aops2&amp;only=styles&amp;skin=aops2"/>
<script async="" src="/wiki/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=aops2"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="/wiki/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=aops2"/>
<meta name="generator" content="MediaWiki 1.31.1"/>
<link rel="shortcut icon" href="/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="/wiki/opensearch_desc.php" title="AoPS Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://artofproblemsolving.com/wiki/api.php?action=rsd"/>
<link rel="alternate" type="application/atom+xml" title="AoPS Wiki Atom feed" href="/wiki/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/wiki/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=aops2&amp;sync=1"></script><![endif]-->

	</head>
		<body class="production mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-2004_AIME_I_Problems_Problem_15 rootpage-2004_AIME_I_Problems_Problem_15 skin-aops2 action-view resources">
		<noscript>
			<iframe src="https://www.googletagmanager.com/ns.html?id=GTM-59JWRGZ"
	height="0" width="0" style="display:none;visibility:hidden"></iframe>
		</noscript>
		<div id="page-wrapper">
			<!-- search:off -->

			<div id="header-wrapper" class="no-select">
        <div class="header-underlay">
          <div id="header">

            <!-- The gray bar at top -->
            <!-- see shared-site.css -->
						<div id="top-bar" class="sharedsite-wrapper">
							<div class="sharedsitebar">
								<a href="https://artofproblemsolving.com" class="mobile-title"></a>
								<div class="sharedsite-links">
																	<a class="site-link main" href="https://artofproblemsolving.com/company">
																		Art of Problem Solving
									</a>
									<div class="site">
																			<a class="site-link selected" href="https://artofproblemsolving.com">
																				<img src="https://artofproblemsolving.com/assets/images/logos/icon-online.svg" class="site-icon">
											<span class="site-name">AoPS Online</span>
										</a>
										<!-- Rich dropdown -->
										<div class="site-dropdown-wrapper">
											<div class="site-dropdown">
												<div class="site-info">
													<div class="site-logo">
														<img src="https://artofproblemsolving.com/assets/images/logos/aops-online.svg"/>
													</div>
													<div class="site-snippet">
														Math texts, online classes, and more
														<br/>for students in grades 5-12.
													</div>
													<a target="_blank" class="site-visit aops-primary" href="https://artofproblemsolving.com">
														Visit AoPS Online <span class="aops-font">‚</span>
													</a>
												</div>
												<div class="site-quick-nav">
													<a target="_blank" href="https://artofproblemsolving.com/store" class="btn btn-primary aops-btn">
														Books for Grades 5-12
													</a>
													<a target="_blank" href="https://artofproblemsolving.com/school" class="btn btn-primary aops-btn">
														Online Courses
													</a>
												</div>
											</div>
										</div>
										<!-- End rich dropdown -->
									</div>
									<div class="site">
										<a class="site-link" href="https://beastacademy.com">
											<img src="https://artofproblemsolving.com/assets/images/logos/icon-ba.svg" class="site-icon">
											<span class="site-name">Beast Academy</span>
										</a>
										<div class="site-dropdown-wrapper">
											<div class="site-dropdown">
												<div class="site-info">
													<div class="site-logo">
														<img src="https://artofproblemsolving.com/assets/images/logos/aops-ba.svg"/>
													</div>
													<div class="site-snippet">
														Engaging math books and online learning
														<br/>for students ages 8-13.
													</div>
													<a target="_blank" class="site-visit ba-primary" href="https://beastacademy.com">
														Visit Beast Academy <span class="aops-font">‚</span>
													</a>
												</div>
												<div class="site-quick-nav">
													<a target="_blank" href="https://beastacademy.com/books" class="btn btn-primary ba-btn">
														Books for Ages 8-13
													</a>
													<a target="_blank" href="https://beastacademy.com/online" class="btn btn-primary ba-btn">
														Beast Academy Online
													</a>
												</div>
											</div>
										</div>
									</div>
									<div class="site">
										<a class="site-link" href="//aopsacademy.org">
											<img src="https://artofproblemsolving.com/assets/images/logos/icon-academy.svg" class="site-icon">
											<span class="site-name">AoPS Academy</span>
										</a>
										<div class="site-dropdown-wrapper">
											<div class="site-dropdown">
												<div class="site-info">
													<div class="site-logo">
														<img src="https://artofproblemsolving.com/assets/images/logos/aops-academy.svg"/>
													</div>
													<div class="site-snippet">
														Nationwide learning centers
														<br/>for students in grades 2-12.
													</div>
													<a target="_blank" class="site-visit academy-primary" href="//aopsacademy.org">
														Visit AoPS Academy <span class="aops-font">‚</span>
													</a>
												</div>
												<div class="site-quick-nav">
													<a target="_blank" href="//aopsacademy.org/campuses" class="btn btn-primary academy-btn">
														Find a Campus
													</a>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>

            <!-- The white area where main menu options appear -->

            <!-- The menu links -->
            <div id="main-menubar">
              <div class="menubar-content">
                <div class="menubar-logo online">
                  <img class="menubar-hamburger" src="https://artofproblemsolving.com/assets/images/hamburger.svg"/>
                  <a class="logo-img-link" href="/online">
                    <img class="logo-img" src="https://artofproblemsolving.com/assets/images/logos/aops-online.svg"/>
                    <img class="logo-img-mobile" src="https://artofproblemsolving.com/assets/images/logos/aops-online-mobile.svg"/>
                    <img class="logo-img-small" src="https://artofproblemsolving.com/assets/images/logos/aops-online-mobile.svg"/>
                  </a>
                </div>
                <div class="menubar-links-outer">
                  <!-- The login links -->
                  <div class="menu-login-wrapper wiki">
                                        <div class="menu-login-item">
                                              <span id="header-login" class="login-button wiki-login-button no-select online-login-button">
                          Sign In
                        </span>
                                          </div>

                    <a href="https://artofproblemsolving.com/store/checkout" class="menu-login-item cart">
                      <img class="menu-cart-icon" src="https://artofproblemsolving.com/assets/images/top/cart-icon.svg">
                      <div class="menu-cart-items">
                                                  0
                                              </div>
                    </a>
                  </div>
                  <div class="menubar-labels online">
                    <div class="menubar-label school">
                      <a class="menubar-label-link" href="https://artofproblemsolving.com/school">
                        online school
                      </a>
                      <div class="menubar-dropdown">
                        <div class="triangle"></div>
                        <div class="dropdown-content">
													<!-- These have IDs for A/B testing purposes. T27691 -->
																										<a id="online-school-menu-how-school-works" href="https://artofproblemsolving.com/school/how-school-works"> How Classes Work </a>
													<a id="online-school-menu-catalog" href="https://artofproblemsolving.com/school/catalog"> Course Catalog </a>
													<a id="online-school-menu-schedule" href="https://artofproblemsolving.com/school/schedule"> Class Schedule </a>
													<a id="online-school-menu-recommmendations" href="https://artofproblemsolving.com/school/recommendations"> Recommendations </a>
													<a id="online-school-menu-woot-courses" href="https://artofproblemsolving.com/school/woot?gtmlist=School_Nav"> WOOT Courses </a>
													<a id="online-school-menu-handbook" href="https://artofproblemsolving.com/school/handbook/prospective">
														School Handbook </a>
													<a id="online-school-menu-mathjams"" href="https://artofproblemsolving.com/school/mathjams"> Math Jams </a>
																										                        </div>
                      </div>
                    </div>
                    <div class="menubar-label store">
                      <a class="menubar-label-link" href="/store">
                        bookstore
                      </a>
                      <div class="menubar-dropdown">
                        <div class="triangle"></div>
                        <div class="dropdown-content">
                                                    <a href="https://artofproblemsolving.com/store/list/aops-curriculum">AoPS Curriculum</a>
                          <a href="https://artofproblemsolving.com/store/list/beast-academy">Beast Academy</a>
                          <a href="https://artofproblemsolving.com/store/online">Online Books</a>
                          <a href="https://artofproblemsolving.com/store/recommendations">Recommendations</a>
                          <a href="https://artofproblemsolving.com/store/list/other-products">Other Books &amp; Gear</a>
                          <a href="https://artofproblemsolving.com/store/list/all-products">All Products</a>
                          <a href="https://artofproblemsolving.com/store/gift-certificates">Gift Certificates</a>
                                                  </div>
                      </div>
                    </div>
                    <div class="menubar-label community">
                      <a class="menubar-label-link" href="/community">
                        community
                      </a>
                      <div class="menubar-dropdown">
                        <div class="triangle"></div>
                        <div class="dropdown-content">
                                                    <a data-cmty href="https://artofproblemsolving.com/community">Forums</a>
                          <a data-cmty href="https://artofproblemsolving.com/community/c13_contests">Contests</a>
                          <a data-cmty href="https://artofproblemsolving.com/community/search">Search</a>
                          <a data-cmty href="https://artofproblemsolving.com/community/faq">Help</a>
                                                                            </div>
                      </div>
                    </div>
                    <div class="menubar-label resources">

                        <div class="menubar-label-link-outer">
                          <a class="menubar-label-link " href="/resources">
                            resources
                          </a>
                        </div>
                        <div class="menubar-dropdown">
                          <div class="triangle"></div>
                          <div class="dropdown-content">
                            <div class="dropdown-columns">
                                <div class="dropdown-category">
                                    <span class="dropdown-category-label">math training & tools</span>
                                    <a href="/alcumus">Alcumus</a>
                                    <a href="/videos">Videos</a>
                                    <a href="/ftw">For the Win!</a>
                                    <a href="/mathcounts_trainer">MATHCOUNTS Trainer</a>
                                    <a href="/texer">LaTeX TeXeR</a>
                                    <a href="/polymath">MIT PRIMES/CrowdMath</a>
                                                                    </div>
                                <div class="dropdown-column">
                                    <div class="dropdown-category category-in-column">
                                        <span class="dropdown-category-label">news & information</span>
                                        <a href="/news">AoPS News</a>
                                        <a href="/wiki/index.php?title=Main_Page">AoPS Wiki</a>
                                                                            </div>
                                    <div class="dropdown-category category-in-column">
                                        <span class="dropdown-category-label">just for fun</span>
                                        <a href="/reaper">Reaper</a>
                                        <a href="/greedcontrol">Greed Control</a>
                                    </div>
                                </div>
                            </div>
                            <div class="dropdown-view-more-link-container">
                                <a href="/resources" class="dropdown-view-more-link">view all <span class="aops-icon">0</span></a>
                            </div>
                          </div>
                        </div>


                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

				<noscript><div class="infobar">JavaScript is not enabled. JavaScript is required to fully utilize the site.</div></noscript>


				<div id="breadcrumbs-wrapper">
					<div id="submenu-icon"></div>
					<div id="breadcrumbs">
												<div class="title-wrapper"><div class="title"><a href="/wiki">AoPS Wiki</a></div></div>
												<div class="crumb-wrapper">
																							<span class="crumb crumb-1">
																	<a href="/resources">Resources</a>
																</span>
																								<i class="aops-font aops-angle-double-right"></i>
																<span class="crumb crumb-2">
																	<a href="/wiki">Aops Wiki</a>
																</span>
																								<i class="aops-font aops-angle-double-right"></i>
																<span class="crumb crumb-3">
																	2004 AIME I Problems/Problem 15																</span>
													</div>
					</div>
				</div>
			</div>
			<!-- /search:off -->


<div id="main-content" class="left-navigation wiki">
	<div id="side-column-wrapper">
		<div id="side-column">
						<div id="content-actions" class="menu open">
				<div class="submenu">
					<h1>Page</h1>
					<div class="submenu-wrapper">
						<span id="ca-nstab-main" class="selected"><a href="/wiki/index.php/2004_AIME_I_Problems/Problem_15" title="View the content page " accesskey="c">Article</a></span><span id="ca-talk" class="new"><a href="/wiki/index.php?title=Talk:2004_AIME_I_Problems/Problem_15&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) " accesskey="t">Discussion</a></span><span id="ca-viewsource"><a href="/wiki/index.php?title=2004_AIME_I_Problems/Problem_15&amp;action=edit" title="This page is protected.&#10;You can view its source " accesskey="e">View source</a></span><span id="ca-history"><a href="/wiki/index.php?title=2004_AIME_I_Problems/Problem_15&amp;action=history" title="Past revisions of this page " accesskey="h">History</a></span>					</div>
				</div>
			</div>
			<div id="toolbox" class="menu open">
				<div class="submenu">
					<h1>Toolbox</h1>
					<div class="submenu-wrapper">
						<span id="n-recentchanges"><a href="/wiki/index.php/Special:RecentChanges" title="A list of recent changes in the wiki " accesskey="r">Recent changes</a></span><span id="n-randompage"><a href="/wiki/index.php/Special:Random" title="Load a random page " accesskey="x">Random page</a></span><span id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></span><span id="t-whatlinkshere"><a href="/wiki/index.php/Special:WhatLinksHere/2004_AIME_I_Problems/Problem_15" title="A list of all wiki pages that link here " accesskey="j">What links here</a></span><span id="t-specialpages"><a href="/wiki/index.php/Special:SpecialPages" title="A list of all special pages " accesskey="q">Special pages</a></span>					</div>
				</div>
			</div>

			<div id="search" class="menu open">
				<h1>Search</h1>
				<div class="submenu-wrapper" style="margin-bottom:5px;">
					<form action="/wiki/index.php" id="searchform" class="mw-search">
						<input type="hidden" name="title" value="Special:Search">
						<input type="search" name="search" placeholder="Search" value="" accesskey="f" id="searchInput">
						<div style="margin:0 5px 5px 5px;text-align:right;"><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="btn btn-primary searchButton"/></div>
					</form>
				</div>
			</div>

			<!--
			<div class="menu open">
				<h1>Note</h1>
				<div class="submenu-wrapper" style="padding:10px;color:#444;">
					Please do not discuss the 2015 AMC 8 Competition on any website until November 25th.
				</div>
			</div>
			-->
		</div>
	</div>



	<div id="main-column" style="margin-top:10px">
				<div class="page-wrapper">
						<div id="mw-js-message" style="display:none;"></div>
			<h1 id="firstHeading" class="firstHeading">2004 AIME I Problems/Problem 15</h1>


			<div class="mw-body">

				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Problem"><span class="tocnumber">1</span> <span class="toctext">Problem</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Solution"><span class="tocnumber">2</span> <span class="toctext">Solution</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Solution_1"><span class="tocnumber">2.1</span> <span class="toctext">Solution 1</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Solution_2"><span class="tocnumber">2.2</span> <span class="toctext">Solution 2</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#See_also"><span class="tocnumber">3</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Problem">Problem</span></h2>
<p>For all positive integers <img src="https://latex.artofproblemsolving.com/2/6/e/26eeb5258ca5099acf8fe96b2a1049c48c89a5e6.png" class="latex" alt="$x$" width="10" height="8" />, let
<img src="https://latex.artofproblemsolving.com/6/9/7/69788eb076a1fdd40268ce4216e05d1864596412.png" class="latexcenter" alt="\[f(x)=\begin{cases}1 &amp; \text{if }x = 1\\ \frac x{10} &amp; \text{if }x\text{ is divisible by 10}\\ x+1 &amp; \text{otherwise}\end{cases}\]" width="285" height="74" />
and define a <a href="/wiki/index.php/Sequence" title="Sequence">sequence</a> as follows: <img src="https://latex.artofproblemsolving.com/3/d/a/3da686e582df3579425d2dbb454847ee447bb636.png" class="latex" alt="$x_1=x$" style="vertical-align: -2px" width="52" height="10" /> and <img src="https://latex.artofproblemsolving.com/4/b/f/4bf33d32b6a0007b4a13a91a6bf0565ab9e54b51.png" class="latex" alt="$x_{n+1}=f(x_n)$" style="vertical-align: -4px" width="103" height="18" /> for all positive integers <img src="https://latex.artofproblemsolving.com/1/7/4/174fadd07fd54c9afe288e96558c92e0c1da733a.png" class="latex" alt="$n$" width="10" height="8" />. Let <img src="https://latex.artofproblemsolving.com/9/4/0/940d22a199a4ed236a98b82ab364343eada11f47.png" class="latex" alt="$d(x)$" style="vertical-align: -4px" width="32" height="18" /> be the smallest <img src="https://latex.artofproblemsolving.com/1/7/4/174fadd07fd54c9afe288e96558c92e0c1da733a.png" class="latex" alt="$n$" width="10" height="8" /> such that <img src="https://latex.artofproblemsolving.com/5/3/7/5375291443412da51f87fce294375d38582fd5b3.png" class="latex" alt="$x_n=1$" style="vertical-align: -2px" width="51" height="14" />. (For example, <img src="https://latex.artofproblemsolving.com/6/e/6/6e6eb7e8ed047f4384f88bfee2b8d0c2cd623179.png" class="latex" alt="$d(100)=3$" style="vertical-align: -4px" width="83" height="18" /> and <img src="https://latex.artofproblemsolving.com/2/2/5/225e5b8bfab28b88195d03074cab2b44a923b3a6.png" class="latex" alt="$d(87)=7$" style="vertical-align: -4px" width="75" height="18" />.) Let <img src="https://latex.artofproblemsolving.com/f/5/0/f5047d1e0cbb50ec208923a22cd517c55100fa7b.png" class="latex" alt="$m$" width="15" height="8" /> be the number of positive integers <img src="https://latex.artofproblemsolving.com/2/6/e/26eeb5258ca5099acf8fe96b2a1049c48c89a5e6.png" class="latex" alt="$x$" width="10" height="8" /> such that <img src="https://latex.artofproblemsolving.com/8/2/3/823f8a3d7e5c29e81349be5de2f5c4ba7d281fc4.png" class="latex" alt="$d(x)=20$" style="vertical-align: -4px" width="75" height="18" />. Find the sum of the distinct prime factors of <img src="https://latex.artofproblemsolving.com/f/5/0/f5047d1e0cbb50ec208923a22cd517c55100fa7b.png" class="latex" alt="$m$" width="15" height="8" />.
</p>
<h2><span class="mw-headline" id="Solution">Solution</span></h2>
<h3><span class="mw-headline" id="Solution_1">Solution 1</span></h3>
<p>We backcount the number of ways. Namely, we start at <img src="https://latex.artofproblemsolving.com/d/8/f/d8f51d218566ff43ac83e9f3274ea0348874b0ac.png" class="latex" alt="$x_{20} = 1$" style="vertical-align: -2px" width="56" height="14" />, which can only be reached if <img src="https://latex.artofproblemsolving.com/d/c/6/dc6684a92fa8ad64e832c13ebd19d660ff6ebbf2.png" class="latex" alt="$x_{19} = 10$" style="vertical-align: -2px" width="66" height="15" />, and then we perform <img src="https://latex.artofproblemsolving.com/5/e/7/5e7a1b6098a8c98b8e4adae526aeef4b91712620.png" class="latex" alt="$18$" style="vertical-align: 0px" width="17" height="13" /> operations that either consist of <img src="https://latex.artofproblemsolving.com/b/3/8/b38d327fba430d190e28f5e1219e20272d609f5d.png" class="latex" alt="$A: (-1)$" style="vertical-align: -4px" width="64" height="18" /> or <img src="https://latex.artofproblemsolving.com/1/8/0/180806beed106d3fb42afd375099f4dd63e4f7c0.png" class="latex" alt="$B: (\times 10)$" style="vertical-align: -4px" width="74" height="18" />. We represent these operations in a string format, starting with the operation that sends <img src="https://latex.artofproblemsolving.com/a/9/f/a9feebfaffa9d0c047bef4ed364c231bb3cfcc70.png" class="latex" alt="$f(x_{18}) = x_{19}$" style="vertical-align: -4px" width="96" height="18" /> and so forth downwards. There are <img src="https://latex.artofproblemsolving.com/1/3/6/136b5202aeddb8e146da2a7ad56af7b1edd00e7e.png" class="latex" alt="$2^9$" width="15" height="15" /> ways to pick the first <img src="https://latex.artofproblemsolving.com/b/f/2/bf2c9074b396e3af0dea52d792660eea1c77f10f.png" class="latex" alt="$9$" width="8" height="12" /> operations; however, not all <img src="https://latex.artofproblemsolving.com/b/f/2/bf2c9074b396e3af0dea52d792660eea1c77f10f.png" class="latex" alt="$9$" width="8" height="12" /> of them may be <img src="https://latex.artofproblemsolving.com/b/3/8/b38d327fba430d190e28f5e1219e20272d609f5d.png" class="latex" alt="$A: (-1)$" style="vertical-align: -4px" width="64" height="18" /> otherwise we return back to <img src="https://latex.artofproblemsolving.com/7/9/e/79e48a8050d21da0ed1932402ebaae691cc14656.png" class="latex" alt="$x_{10} = 1$" style="vertical-align: -2px" width="56" height="14" />, contradicting our assumption that <img src="https://latex.artofproblemsolving.com/f/8/3/f8366cd6196dd8a9da6d38a3e9eafb109e99d53e.png" class="latex" alt="$20$" width="17" height="12" /> was the smallest value of <img src="https://latex.artofproblemsolving.com/1/7/4/174fadd07fd54c9afe288e96558c92e0c1da733a.png" class="latex" alt="$n$" width="10" height="8" />. Using <a href="/wiki/index.php/Complementary_counting" title="Complementary counting">complementary counting</a>, we see that there are only <img src="https://latex.artofproblemsolving.com/e/f/9/ef90e1a782537613c4b5b4b14dcef9cc99e8b69a.png" class="latex" alt="$2^9 - 1$" style="vertical-align: 0px" width="47" height="15" /> ways.
</p><p>Since we performed the operation <img src="https://latex.artofproblemsolving.com/1/8/0/180806beed106d3fb42afd375099f4dd63e4f7c0.png" class="latex" alt="$B: (\times 10)$" style="vertical-align: -4px" width="74" height="18" /> at least once in the first <img src="https://latex.artofproblemsolving.com/b/f/2/bf2c9074b396e3af0dea52d792660eea1c77f10f.png" class="latex" alt="$9$" width="8" height="12" /> operations, it follows that <img src="https://latex.artofproblemsolving.com/3/f/1/3f181746b40472b11fd07eff61785c9159f5ac24.png" class="latex" alt="$x_{10} \ge 20$" style="vertical-align: -2px" width="66" height="15" />, so that we no longer have to worry about reaching <img src="https://latex.artofproblemsolving.com/d/c/e/dce34f4dfb2406144304ad0d6106c5382ddd1446.png" class="latex" alt="$1$" style="vertical-align: 0px" width="8" height="12" /> again.
</p><p>However, we must also account for a sequence of <img src="https://latex.artofproblemsolving.com/f/c/6/fc606f7f1e530731ab4f1cc364c01dc64a4455ee.png" class="latex" alt="$10$" style="vertical-align: 0px" width="17" height="13" /> or more <img src="https://latex.artofproblemsolving.com/b/3/8/b38d327fba430d190e28f5e1219e20272d609f5d.png" class="latex" alt="$A: (-1)$" style="vertical-align: -4px" width="64" height="18" />s in a row, because that implies that at least one of those numbers was divisible by <img src="https://latex.artofproblemsolving.com/f/c/6/fc606f7f1e530731ab4f1cc364c01dc64a4455ee.png" class="latex" alt="$10$" style="vertical-align: 0px" width="17" height="13" />, yet the <img src="https://latex.artofproblemsolving.com/2/6/c/26c41275e58f4e06d320e2deca4e758f1ad6179e.png" class="latex" alt="$\frac{x}{10}$" style="vertical-align: -13px" width="20" height="33" /> was never used, contradiction. We must use complementary counting again by determining the number of strings of <img src="https://latex.artofproblemsolving.com/5/f/6/5f642cbbd390b4882363ab6b5c2906dbf6be6cc8.png" class="latex" alt="$A,B$" style="vertical-align: -3px" width="35" height="16" />s of length <img src="https://latex.artofproblemsolving.com/5/e/7/5e7a1b6098a8c98b8e4adae526aeef4b91712620.png" class="latex" alt="$18$" style="vertical-align: 0px" width="17" height="13" /> such that there are <img src="https://latex.artofproblemsolving.com/f/c/6/fc606f7f1e530731ab4f1cc364c01dc64a4455ee.png" class="latex" alt="$10$" style="vertical-align: 0px" width="17" height="13" /> <img src="https://latex.artofproblemsolving.com/0/1/9/019e9892786e493964e145e7c5cf7b700314e53b.png" class="latex" alt="$A$" width="13" height="13" />s in a row. The first ten are not included since we already accounted for that scenario above, so our string of <img src="https://latex.artofproblemsolving.com/f/c/6/fc606f7f1e530731ab4f1cc364c01dc64a4455ee.png" class="latex" alt="$10$" style="vertical-align: 0px" width="17" height="13" /> <img src="https://latex.artofproblemsolving.com/0/1/9/019e9892786e493964e145e7c5cf7b700314e53b.png" class="latex" alt="$A$" width="13" height="13" />s must be preceded by a <img src="https://latex.artofproblemsolving.com/f/f/5/ff5fb3d775862e2123b007eb4373ff6cc1a34d4e.png" class="latex" alt="$B$" width="14" height="12" />. There are no other restrictions on the remaining seven characters. Letting <img src="https://latex.artofproblemsolving.com/b/6/c/b6cf65b1f2fbdf388e3daeff9b96b34d3399d777.png" class="latex" alt="$\square$" width="13" height="12" /> to denote either of the functions, and <img src="https://latex.artofproblemsolving.com/2/7/1/271100ff202d98fd62412f2c1a6724669a230cea.png" class="latex" alt="$^{[k]}$" style="vertical-align: 4px" width="13" height="11" /> to indicate that the character appears <img src="https://latex.artofproblemsolving.com/8/c/3/8c325612684d41304b9751c175df7bcc0f61f64f.png" class="latex" alt="$k$" width="9" height="12" /> times in a row, our bad strings can take the forms:
<img src="https://latex.artofproblemsolving.com/a/e/d/aed0db6e2e9d62ddc1c9522b116f8be921e1b3d7.png" class="latexcenter" alt="\begin{align*} &amp;\underbrace{BA^{[10]}}\square \square \square \square \square \square \square\\ &amp;\square \underbrace{BA^{[10]}}\square \square \square \square \square \square \\ &amp;\qquad \quad \cdots \quad \cdots \\ &amp;\square \square \square \square \square \square \underbrace{BA^{[10]}} \square \\ &amp;\square \square \square \square \square \square \square \underbrace{BA^{[10]}} \\ \end{align*}" width="152" height="157" />
</p><p>There are <img src="https://latex.artofproblemsolving.com/a/f/c/afc77519ee6bab163b1aa195a3ba88718d414aa4.png" class="latex" alt="$2^7$" width="15" height="15" /> ways to select the operations for the <img src="https://latex.artofproblemsolving.com/e/0/a/e0a0db32027a732ac57d37ef2ae9bb150f65b108.png" class="latex" alt="$7$" width="9" height="12" /> <img src="https://latex.artofproblemsolving.com/b/6/c/b6cf65b1f2fbdf388e3daeff9b96b34d3399d777.png" class="latex" alt="$\square$" width="13" height="12" />s, and <img src="https://latex.artofproblemsolving.com/8/4/5/8455f3b5cb3b4880b8c9d782a5c1f0334db819eb.png" class="latex" alt="$8$" width="8" height="12" /> places to place our <img src="https://latex.artofproblemsolving.com/1/0/c/10cdd4e87b53ba03e083ca75a719dde5bc0c1523.png" class="latex" alt="$BA^{[10]}$" width="47" height="16" /> block. Thus, our answer is <img src="https://latex.artofproblemsolving.com/2/d/7/2d7a607a7337a5eac820712794a80aa46dfc7d29.png" class="latex" alt="$2^9(2^9-1)-8\cdot 2^7 = 2^{18} - 2^9 - 8 \cdot 2^7 = 2^9 \times 509$" style="vertical-align: -4px" width="376" height="19" />, and the answer is <img src="https://latex.artofproblemsolving.com/3/1/4/31407ef130347b814500745db5e88b9981026577.png" class="latex" alt="$\boxed{511}$" style="vertical-align: -5px" width="39" height="23" />.
</p><p><b>Note:</b> This solution is quick and most similar to the official solution; however, neither this nor the official solution prove that the final results of these inverted operations are all distinct. A more sophisticated argument, such as the one below, is needed to do so.
</p>
<h3><span class="mw-headline" id="Solution_2">Solution 2</span></h3>
<p>We approach the problem by recursion. We partition the positive integers into the sets
<img src="https://latex.artofproblemsolving.com/7/a/0/7a0d3b446cae28f38f7c0a318a3305e54a841094.png" class="latexcenter" alt="\[\mathcal{A}_{n,k}=\{x\in\mathbb{Z}^+\,:\, d(x)=n\text{ and } x\equiv k\pmod{10}\}.\]" width="400" height="19" />
First, we note that <img src="https://latex.artofproblemsolving.com/8/0/1/801ec7f526e90ab9197e39a8a3e65f3aaa0f17d8.png" class="latex" alt="$\mathcal{A}_{1,1}=\{1\}$" style="vertical-align: -4px" width="83" height="18" />, so by the disjointness of the <img src="https://latex.artofproblemsolving.com/9/9/b/99b1b196349f2110e9dc1332be8781f3154400f3.png" class="latex" alt="$\mathcal{A}_{n,k}$" style="vertical-align: -4px" width="33" height="18" />'s, we know that <img src="https://latex.artofproblemsolving.com/d/c/e/dce34f4dfb2406144304ad0d6106c5382ddd1446.png" class="latex" alt="$1$" style="vertical-align: 0px" width="8" height="12" /> is not in any of the other sets. Also, we note that <img src="https://latex.artofproblemsolving.com/6/c/d/6cdafdff27d4d7c1eef059a52051b2ad6454f0f6.png" class="latex" alt="$\mathcal{A}_{1,k}=\emptyset$" style="vertical-align: -4px" width="66" height="19" /> for <img src="https://latex.artofproblemsolving.com/4/c/d/4cd578f92999d464946ad4e8f791fbf8210a45af.png" class="latex" alt="$k=0,2,3,4,5,6,7,8,9$" style="vertical-align: -3px" width="180" height="16" />.
</p><p>We claim that if <img src="https://latex.artofproblemsolving.com/9/1/9/9199dcf6ed8c3c803f2a545843dff7864d658213.png" class="latex" alt="$2\le k\le 9$" style="vertical-align: -2px" width="76" height="15" /> and <img src="https://latex.artofproblemsolving.com/5/3/f/53f12ec5ee4a2e5304810da76fbb60e0d3cf46c2.png" class="latex" alt="$n\ge2$" style="vertical-align: -2px" width="43" height="14" />, then <img src="https://latex.artofproblemsolving.com/8/6/e/86ed9880d597d08f03e3039e98c1c956ebe1219e.png" class="latex" alt="$|\mathcal{A}_{n,k}|=|\mathcal{A}_{n-1,k+1}|$" style="vertical-align: -4px" width="146" height="18" />. To prove this, we show that <img src="https://latex.artofproblemsolving.com/b/b/2/bb2c93730dbb48558bb3c4738c956c4e8f816437.png" class="latex" alt="$f$" style="vertical-align: -3px" width="10" height="16" /> (the given function) maps <img src="https://latex.artofproblemsolving.com/9/9/b/99b1b196349f2110e9dc1332be8781f3154400f3.png" class="latex" alt="$\mathcal{A}_{n,k}$" style="vertical-align: -4px" width="33" height="18" /> bijectively onto <img src="https://latex.artofproblemsolving.com/5/8/0/5809fcd838f565271e942e1c82a76c0d74c2e134.png" class="latex" alt="$\mathcal{A}_{n-1,k+1}$" style="vertical-align: -4px" width="66" height="18" />. If <img src="https://latex.artofproblemsolving.com/e/e/f/eef6c0aa1233c8e896d4848219826d9b29c56d8a.png" class="latex" alt="$x\in \mathcal{A}_{n,k}$" style="vertical-align: -4px" width="66" height="18" />, then <img src="https://latex.artofproblemsolving.com/d/1/1/d11859e880936104ee1da1e208cfda265f2d982a.png" class="latex" alt="$x\equiv k\pmod{10}$" style="vertical-align: -4px" width="124" height="18" />, and <img src="https://latex.artofproblemsolving.com/7/f/7/7f7cf7c64503dd24a961ced17797d4cd48e6caf8.png" class="latex" alt="$x\ne 1$" style="vertical-align: -4px" width="42" height="17" />, so <img src="https://latex.artofproblemsolving.com/4/5/c/45c35abde8e3f41492858d899fac46b3b1822da1.png" class="latex" alt="$f(x)=x+1\equiv k+1\pmod{10}$" style="vertical-align: -4px" width="246" height="18" />. Also, <img src="https://latex.artofproblemsolving.com/a/e/e/aeefd8b95db059c9daae357e65b9ba99c4caa58d.png" class="latex" alt="$f^{(n)}(x)=1$" style="vertical-align: -4px" width="87" height="20" />, where <img src="https://latex.artofproblemsolving.com/1/7/4/174fadd07fd54c9afe288e96558c92e0c1da733a.png" class="latex" alt="$n$" width="10" height="8" /> is the smallest positive integer for which this is true. Therefore, <img src="https://latex.artofproblemsolving.com/5/a/d/5ad19bac26451fda4b721fafb13a360d8aad7b6b.png" class="latex" alt="$f^{{n-1}}(f(x))=1$" style="vertical-align: -4px" width="118" height="19" />, where <img src="https://latex.artofproblemsolving.com/4/b/d/4bdca93962a2beaffc172ca394e04fe05bd74ffd.png" class="latex" alt="$n-1$" style="vertical-align: 0px" width="41" height="12" /> is the smallest integer for which this is true. Thus <img src="https://latex.artofproblemsolving.com/0/e/4/0e4eda8f71f6a09a5178c2eaa797ede3e9a32e0b.png" class="latex" alt="$f(x)\in\mathcal{A}_{n-1,k+1}$" style="vertical-align: -4px" width="124" height="18" />. Also, since <img src="https://latex.artofproblemsolving.com/7/2/d/72d50b0bd1712b6070cfbf1035f19e92ee085091.png" class="latex" alt="$f(x)=x+1$" style="vertical-align: -4px" width="100" height="18" /> on this set, we see that <img src="https://latex.artofproblemsolving.com/6/4/f/64f40f57ed3d761589eb052206926f3820f4255d.png" class="latex" alt="$f(x)=f(y)$" style="vertical-align: -4px" width="92" height="18" /> implies that <img src="https://latex.artofproblemsolving.com/0/1/1/0110f1bb04c51b2a4d431bf14489fc1b48b37421.png" class="latex" alt="$x=y$" style="vertical-align: -3px" width="43" height="11" />. Hence <img src="https://latex.artofproblemsolving.com/b/b/2/bb2c93730dbb48558bb3c4738c956c4e8f816437.png" class="latex" alt="$f$" style="vertical-align: -3px" width="10" height="16" /> is an injection. If <img src="https://latex.artofproblemsolving.com/b/3/1/b31c3fc64bd3d8b33f0ff13d74049346fb13a74c.png" class="latex" alt="$y\in\mathcal{A}_{n-1,k+1}$" style="vertical-align: -4px" width="98" height="18" />, then <img src="https://latex.artofproblemsolving.com/8/e/8/8e889f0909ff83d657bcafa58d3c2b7b6ab96216.png" class="latex" alt="$y-1\equiv k\pmod{10}$" style="vertical-align: -4px" width="154" height="18" />, where <img src="https://latex.artofproblemsolving.com/9/1/9/9199dcf6ed8c3c803f2a545843dff7864d658213.png" class="latex" alt="$2\le k\le 9$" style="vertical-align: -2px" width="76" height="15" />, so we know that <img src="https://latex.artofproblemsolving.com/7/3/d/73dc7af4ca5b430ad53bb6a922633a00d05c5261.png" class="latex" alt="$f(y-1)=y$" style="vertical-align: -4px" width="99" height="18" />, and <img src="https://latex.artofproblemsolving.com/e/4/f/e4f090d5f2635ef9f72c502c569017a7f3f58a10.png" class="latex" alt="$y-1\in \mathcal{A}_{n,k}$" style="vertical-align: -4px" width="96" height="18" />. Therefore, <img src="https://latex.artofproblemsolving.com/b/b/2/bb2c93730dbb48558bb3c4738c956c4e8f816437.png" class="latex" alt="$f$" style="vertical-align: -3px" width="10" height="16" /> is a surjection, so it must be a bijection. Therefore,  if <img src="https://latex.artofproblemsolving.com/9/1/9/9199dcf6ed8c3c803f2a545843dff7864d658213.png" class="latex" alt="$2\le k\le 9$" style="vertical-align: -2px" width="76" height="15" /> and <img src="https://latex.artofproblemsolving.com/5/3/f/53f12ec5ee4a2e5304810da76fbb60e0d3cf46c2.png" class="latex" alt="$n\ge2$" style="vertical-align: -2px" width="43" height="14" />, then <img src="https://latex.artofproblemsolving.com/8/6/e/86ed9880d597d08f03e3039e98c1c956ebe1219e.png" class="latex" alt="$|\mathcal{A}_{n,k}|=|\mathcal{A}_{n-1,k+1}|$" style="vertical-align: -4px" width="146" height="18" />.
</p><p>We also claim that if <img src="https://latex.artofproblemsolving.com/5/e/d/5ed8470bc717a49aafe4556c7e2c2e11ddc7b687.png" class="latex" alt="$k=1$" style="vertical-align: 0px" width="42" height="13" />, <img src="https://latex.artofproblemsolving.com/3/9/a/39abfe232e2ed5247aa4028089e5f651090e66da.png" class="latex" alt="$n\ge 2$" style="vertical-align: -2px" width="43" height="14" /> and <img src="https://latex.artofproblemsolving.com/8/6/f/86f3c2528ec3e141c340aeb34c6a5a2f5ddb7376.png" class="latex" alt="$n\ne 11$" style="vertical-align: -4px" width="52" height="17" />, then  <img src="https://latex.artofproblemsolving.com/8/6/e/86ed9880d597d08f03e3039e98c1c956ebe1219e.png" class="latex" alt="$|\mathcal{A}_{n,k}|=|\mathcal{A}_{n-1,k+1}|$" style="vertical-align: -4px" width="146" height="18" />. The proof is the same as in the previous paragraph, though some additional clarification is needed to prove that <img src="https://latex.artofproblemsolving.com/b/b/2/bb2c93730dbb48558bb3c4738c956c4e8f816437.png" class="latex" alt="$f$" style="vertical-align: -3px" width="10" height="16" /> is a surjection. If <img src="https://latex.artofproblemsolving.com/b/3/1/b31c3fc64bd3d8b33f0ff13d74049346fb13a74c.png" class="latex" alt="$y\in\mathcal{A}_{n-1,k+1}$" style="vertical-align: -4px" width="98" height="18" />, or rather <img src="https://latex.artofproblemsolving.com/1/d/0/1d0ac5f0388b3e6208162798d25e4e06243db0c8.png" class="latex" alt="$y-1\equiv k\equiv 1\pmod{10}$" style="vertical-align: -4px" width="188" height="18" />, then if <img src="https://latex.artofproblemsolving.com/4/0/a/40ac4b6f5ab516ac6fe7132ed2fe7a1d77ca02dd.png" class="latex" alt="$y=2$" style="vertical-align: -3px" width="42" height="15" />, we see that <img src="https://latex.artofproblemsolving.com/6/a/9/6a910433cba8058c106a4537745f17fda30c061e.png" class="latex" alt="$y-1=1$" style="vertical-align: -3px" width="73" height="15" />, and then <img src="https://latex.artofproblemsolving.com/0/c/7/0c7465202364147423ad0cf7ec83a87949fd3fc8.png" class="latex" alt="$f(y-1)=1$" style="vertical-align: -4px" width="98" height="18" />, not <img src="https://latex.artofproblemsolving.com/0/9/2/092e364e1d9d19ad5fffb0b46ef4cc7f2da02c1c.png" class="latex" alt="$y$" style="vertical-align: -3px" width="9" height="11" /> as in the prior argument. However, this does not happen if <img src="https://latex.artofproblemsolving.com/8/6/f/86f3c2528ec3e141c340aeb34c6a5a2f5ddb7376.png" class="latex" alt="$n\ne 11$" style="vertical-align: -4px" width="52" height="17" />. It is easy to check that <img src="https://latex.artofproblemsolving.com/b/e/8/be87eb662f5a6489aff672010dfe165d285b7bdf.png" class="latex" alt="$2\in\mathcal{A}_{10,2}$" style="vertical-align: -4px" width="69" height="18" />. Therefore, the only time that the above argument could fail is if <img src="https://latex.artofproblemsolving.com/a/2/a/a2a6e442b5c66b30b12999d8e4b59fdcc8f52d46.png" class="latex" alt="$n-1=10$" style="vertical-align: 0px" width="84" height="13" /> and <img src="https://latex.artofproblemsolving.com/6/6/d/66d548675a966d73119c1716ef02fca35826eb3b.png" class="latex" alt="$k+1=2$" style="vertical-align: -1px" width="74" height="14" />. But in every other case, <img src="https://latex.artofproblemsolving.com/8/6/e/86ed9880d597d08f03e3039e98c1c956ebe1219e.png" class="latex" alt="$|\mathcal{A}_{n,k}|=|\mathcal{A}_{n-1,k+1}|$" style="vertical-align: -4px" width="146" height="18" />.
</p><p>Next, we claim that if <img src="https://latex.artofproblemsolving.com/6/b/e/6be91d8532fe2a50e227f2fec7c3cecdd8758df3.png" class="latex" alt="$n\ge 3$" style="vertical-align: -2px" width="43" height="15" />, then
<img src="https://latex.artofproblemsolving.com/1/0/1/101b24787295187ec50b94c1529c958895c5a8a5.png" class="latexcenter" alt="\[|\mathcal{A}_{n,0}|=\Big|\bigcup_{k=0}^9\mathcal{A}_{n-1,k}\Big|\]" width="157" height="50" />
If <img src="https://latex.artofproblemsolving.com/0/e/6/0e607ab058d34ebc264acfa53e07ddcf01d4be1a.png" class="latex" alt="$x\in\mathcal{A}_{n,0}$" style="vertical-align: -4px" width="65" height="18" />, then <img src="https://latex.artofproblemsolving.com/9/1/c/91cec9505c7f438ed27970d4d8596d720b12b7d1.png" class="latex" alt="$f(x)=\tfrac{x}{10}$" style="vertical-align: -6px" width="75" height="20" />, which is clearly an injective map.  Also, <img src="https://latex.artofproblemsolving.com/a/e/e/aeefd8b95db059c9daae357e65b9ba99c4caa58d.png" class="latex" alt="$f^{(n)}(x)=1$" style="vertical-align: -4px" width="87" height="20" />, where <img src="https://latex.artofproblemsolving.com/1/7/4/174fadd07fd54c9afe288e96558c92e0c1da733a.png" class="latex" alt="$n$" width="10" height="8" /> is the smallest positive integer for which this is true. Therefore, <img src="https://latex.artofproblemsolving.com/5/a/d/5ad19bac26451fda4b721fafb13a360d8aad7b6b.png" class="latex" alt="$f^{{n-1}}(f(x))=1$" style="vertical-align: -4px" width="118" height="19" />, where <img src="https://latex.artofproblemsolving.com/4/b/d/4bdca93962a2beaffc172ca394e04fe05bd74ffd.png" class="latex" alt="$n-1$" style="vertical-align: 0px" width="41" height="12" /> is the smallest integer for which this is true. Thus <img src="https://latex.artofproblemsolving.com/3/4/f/34fc9f5306b42907642696da77dba0c6ef9fd425.png" class="latex" alt="$f(x)\in\mathcal{A}_{n-1,k}$" style="vertical-align: -4px" width="108" height="18" /> for some <img src="https://latex.artofproblemsolving.com/8/c/3/8c325612684d41304b9751c175df7bcc0f61f64f.png" class="latex" alt="$k$" width="9" height="12" />. Conversely, if <img src="https://latex.artofproblemsolving.com/8/1/6/8162dc0e6726258e81b0e17b64f86933b03b25ca.png" class="latex" alt="$y\in \mathcal{A}_{n-1,k}$" style="vertical-align: -4px" width="82" height="18" />, then <img src="https://latex.artofproblemsolving.com/a/a/3/aa3e8cbaed31f177c5a31d391df5cb7483776c0e.png" class="latex" alt="$f(10y)=y$" style="vertical-align: -4px" width="86" height="18" />, so <img src="https://latex.artofproblemsolving.com/4/8/0/480f4d4a1b3b50dccfb34d368717e6ba823318b5.png" class="latex" alt="$d(10y)=n$" style="vertical-align: -4px" width="86" height="18" />, so <img src="https://latex.artofproblemsolving.com/9/f/2/9f2963e7e42410f6acbda242ecbdafe87df82abf.png" class="latex" alt="$10y\in\mathcal{A}_{n,0}$" style="vertical-align: -4px" width="82" height="18" />.
</p><p>Based on these bijections, if we let <img src="https://latex.artofproblemsolving.com/a/4/3/a4334bdcba50961686100da5f68074a0611f9bad.png" class="latex" alt="$A_{n,k}=|\mathcal{A}_{n,k}|$" style="vertical-align: -4px" width="101" height="18" />, then
<img src="https://latex.artofproblemsolving.com/6/e/b/6ebc39c7550e838db7d4cad11cddfa513a703d09.png" class="latexcenter" alt="\begin{align*} A_{n,0}&amp;=\sum_{k=0}^{9} A_{n-1,k}\\ A_{n,1}&amp;=A_{n-1,2}\qquad\text{if }n\ne 11\\ A_{n,2}&amp;=A_{n-1,3}\\ A_{n,3}&amp;=A_{n-1,4}\\ &amp;\vdots\\ A_{n,8}&amp;=A_{n-1,9}\\ A_{n,9}&amp;=A_{n-1,0}. \end{align*}" width="208" height="217" />
Let <img src="https://latex.artofproblemsolving.com/6/c/8/6c84d186a0409415b63311d02dc437e8a9035356.png" class="latex" alt="$S_n=\sum_{k=0}^9 A_{n,k}$" style="vertical-align: -20px" width="105" height="50" />. Then by adding the above equations (valid if <img src="https://latex.artofproblemsolving.com/8/6/f/86f3c2528ec3e141c340aeb34c6a5a2f5ddb7376.png" class="latex" alt="$n\ne 11$" style="vertical-align: -4px" width="52" height="17" />), we find that
<img src="https://latex.artofproblemsolving.com/4/1/6/4168091d55f866e4468dfac6c41800179a4fa9a0.png" class="latexcenter" alt="\[S_n=2S_{n-1}-A_{n-1,1}.\]" width="166" height="18" />
Now by using the above relations repeatedly, we find
<img src="https://latex.artofproblemsolving.com/0/5/4/05477942cf4399f254b116718b028eb8bcb63838.png" class="latexcenter" alt="\[A_{n-1,1}=A_{n-2,2}=A_{n-3,3}=\cdots=A_{n-9,9}=A_{n-10,0}=S_{n-11}.\]" width="471" height="18" />
The first relation will only be valid if <img src="https://latex.artofproblemsolving.com/a/3/6/a365578cdc94d2360b691e47d3053c481a44fbe2.png" class="latex" alt="$n\ne 12$" style="vertical-align: -4px" width="52" height="17" />. Therefore, <img src="https://latex.artofproblemsolving.com/0/b/c/0bc923cbe581406f1a8e6cdb7ff25bbe909e2e18.png" class="latex" alt="$S_n=2S_{n-1}-S_{n-11}$" style="vertical-align: -2px" width="154" height="15" /> for <img src="https://latex.artofproblemsolving.com/8/3/8/838baad3d720c6c206286034a4c887b841937379.png" class="latex" alt="$n\ge 13$" style="vertical-align: -2px" width="52" height="15" />. For smaller values, it is easy to use the relations to compute that the terms are powers of <img src="https://latex.artofproblemsolving.com/4/1/c/41c544263a265ff15498ee45f7392c5f86c6d151.png" class="latex" alt="$2$" width="8" height="12" />, although we note that <img src="https://latex.artofproblemsolving.com/8/4/1/84146a32f0f6e1bcd12a495f0e269649495658be.png" class="latex" alt="$A_{11,1}=0$" style="vertical-align: -4px" width="71" height="17" /> because of the failure of the above argument.
<img src="https://latex.artofproblemsolving.com/6/5/f/65f0cb1d2fe3282eea29d55205e0fce1bef946e9.png" class="latexcenter" alt="\[\begin{array}{c|cccccccccc|c} n&amp;A_{n,1}&amp;A_{n,2}&amp;A_{n,3}&amp;A_{n,4}&amp;A_{n,5}&amp;A_{n,6}&amp;A_{n,7}&amp;A_{n,8}&amp;A_{n,9}&amp;A_{n,0}&amp;S_{n}\\\hline 1&amp;1&amp;0&amp;0&amp;0&amp;0&amp;0&amp;0&amp;0&amp;0&amp;0&amp;1\\ 2&amp;0&amp;0&amp;0&amp;0&amp;0&amp;0&amp;0&amp;0&amp;0&amp;1&amp;1\\ 3&amp;0&amp;0&amp;0&amp;0&amp;0&amp;0&amp;0&amp;0&amp;1&amp;1&amp;2\\ 4&amp;0&amp;0&amp;0&amp;0&amp;0&amp;0&amp;0&amp;1&amp;1&amp;2&amp;4\\ 5&amp;0&amp;0&amp;0&amp;0&amp;0&amp;0&amp;1&amp;1&amp;2&amp;4&amp;8\\ 6&amp;0&amp;0&amp;0&amp;0&amp;0&amp;1&amp;1&amp;2&amp;4&amp;8&amp;16\\ 7&amp;0&amp;0&amp;0&amp;0&amp;1&amp;1&amp;2&amp;4&amp;8&amp;16&amp;32\\ 8&amp;0&amp;0&amp;0&amp;1&amp;1&amp;2&amp;4&amp;8&amp;16&amp;32&amp;64\\ 9&amp;0&amp;0&amp;1&amp;1&amp;2&amp;4&amp;8&amp;16&amp;32&amp;64&amp;128\\ 10&amp;0&amp;1&amp;1&amp;2&amp;4&amp;8&amp;16&amp;32&amp;64&amp;128&amp;256\\ 11&amp;\boxed{0}&amp;1&amp;2&amp;4&amp;8&amp;16&amp;32&amp;64&amp;128&amp;256&amp;511\\ 12&amp;1&amp;2&amp;4&amp;8&amp;16&amp;32&amp;64&amp;128&amp;256&amp;511&amp;1022\\ \end{array}\]" width="586" height="263" />
After this, we can simply use the recurrence relation for <img src="https://latex.artofproblemsolving.com/c/7/4/c74a070eea97d9363f58a257e05e75fc69efa753.png" class="latex" alt="$S_n$" style="vertical-align: -2px" width="19" height="15" />, finding
<img src="https://latex.artofproblemsolving.com/e/4/a/e4a030684c203ccd542d351ae9cb261856d66455.png" class="latexcenter" alt="\[\begin{array}{c|l} n&amp;S_n\\\hline 1&amp;1\\ 2&amp;1\\ 3&amp;2^1\\ 4&amp;2^2\\ 5&amp;2^3\\ 6&amp;2^4\\ 7&amp;2^5\\ 8&amp;2^6\\ 9&amp;2^7\\ 10&amp;2^8\\ 11&amp;2^9-1\\ 12&amp;2^{10}-2\\ 13&amp;2^{11}-1\cdot 5\\ 14&amp;2^{12}-2\cdot 6\\ 15&amp;2^{13}-4\cdot 7\\ 16&amp;2^{14}-8\cdot 8\\ 17&amp;2^{15}-16\cdot 9\\ 18&amp;2^{16}-32\cdot 10\\ 19&amp;2^{17}-64\cdot 11\\ 20&amp;2^{18}-128\cdot 12. \end{array}\]" width="160" height="421" />
Therefore, there are <img src="https://latex.artofproblemsolving.com/3/4/6/34666da4d77bf2056084cd8381095f5098232b04.png" class="latex" alt="$2^{18}- 2^9\cdot 3$" width="83" height="15" /> positive integers <img src="https://latex.artofproblemsolving.com/2/6/e/26eeb5258ca5099acf8fe96b2a1049c48c89a5e6.png" class="latex" alt="$x$" width="10" height="8" /> with <img src="https://latex.artofproblemsolving.com/8/2/3/823f8a3d7e5c29e81349be5de2f5c4ba7d281fc4.png" class="latex" alt="$d(x)=20$" style="vertical-align: -4px" width="75" height="18" />. This factors as <img src="https://latex.artofproblemsolving.com/5/1/f/51f49ada59eb6417122afbf95ecb4dc621b782c8.png" class="latex" alt="$2^9(2^{9}-3)=2^9(509)$" style="vertical-align: -4px" width="159" height="19" />, where <img src="https://latex.artofproblemsolving.com/5/8/d/58de4a2ac94bb040f506a11abbcaeb169e2c770b.png" class="latex" alt="$509$" width="26" height="12" /> is prime. Thus the answer is <img src="https://latex.artofproblemsolving.com/3/1/4/31407ef130347b814500745db5e88b9981026577.png" class="latex" alt="$\boxed{511}$" style="vertical-align: -5px" width="39" height="23" />.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<table class="wikitable" style="margin:0.5em auto; font-size:95%; border:1px solid black; width:80%;">
<tbody><tr>
<td style="background:#ccf;text-align:center;" colspan="3"><b><a href="/wiki/index.php/2004_AIME_I" title="2004 AIME I">2004 AIME I</a></b> (<b><a href="/wiki/index.php/2004_AIME_I_Problems" title="2004 AIME I Problems">Problems</a></b> • <b><a href="/wiki/index.php/2004_AIME_I_Answer_Key" title="2004 AIME I Answer Key">Answer Key</a></b> • <a rel="nofollow" class="external text" href="http://www.artofproblemsolving.com/Forum/resources.php?c=182&amp;cid=45&amp;year=2004">Resources</a>)
</td></tr>
<tr>
<td width="50%" align="center" rowspan="1">Preceded&#160;by<br /><b><a href="/wiki/index.php/2004_AIME_I_Problems/Problem_14" title="2004 AIME I Problems/Problem 14">Problem 14</a></b>
</td>
<td width="50%" align="center" rowspan="1">Followed&#160;by<br /><b>Last Question</b>
</td></tr>
<tr>
<td colspan="3" style="text-align:center;"><a href="/wiki/index.php/2004_AIME_I_Problems/Problem_1" title="2004 AIME I Problems/Problem 1">1</a> <b>•</b> <a href="/wiki/index.php/2004_AIME_I_Problems/Problem_2" title="2004 AIME I Problems/Problem 2">2</a> <b>•</b> <a href="/wiki/index.php/2004_AIME_I_Problems/Problem_3" title="2004 AIME I Problems/Problem 3">3</a> <b>•</b> <a href="/wiki/index.php/2004_AIME_I_Problems/Problem_4" title="2004 AIME I Problems/Problem 4">4</a> <b>•</b> <a href="/wiki/index.php/2004_AIME_I_Problems/Problem_5" title="2004 AIME I Problems/Problem 5">5</a> <b>•</b> <a href="/wiki/index.php/2004_AIME_I_Problems/Problem_6" title="2004 AIME I Problems/Problem 6">6</a> <b>•</b> <a href="/wiki/index.php/2004_AIME_I_Problems/Problem_7" title="2004 AIME I Problems/Problem 7">7</a> <b>•</b> <a href="/wiki/index.php/2004_AIME_I_Problems/Problem_8" title="2004 AIME I Problems/Problem 8">8</a> <b>•</b> <a href="/wiki/index.php/2004_AIME_I_Problems/Problem_9" title="2004 AIME I Problems/Problem 9">9</a> <b>•</b> <a href="/wiki/index.php/2004_AIME_I_Problems/Problem_10" title="2004 AIME I Problems/Problem 10">10</a> <b>•</b> <a href="/wiki/index.php/2004_AIME_I_Problems/Problem_11" title="2004 AIME I Problems/Problem 11">11</a> <b>•</b> <a href="/wiki/index.php/2004_AIME_I_Problems/Problem_12" title="2004 AIME I Problems/Problem 12">12</a> <b>•</b> <a href="/wiki/index.php/2004_AIME_I_Problems/Problem_13" title="2004 AIME I Problems/Problem 13">13</a> <b>•</b> <a href="/wiki/index.php/2004_AIME_I_Problems/Problem_14" title="2004 AIME I Problems/Problem 14">14</a> <b>•</b> <a class="mw-selflink selflink">15</a>
</td></tr>
<tr>
<td align="center" colspan="3"><b><a href="/wiki/index.php/AIME_Problems_and_Solutions" title="AIME Problems and Solutions"> All AIME Problems and Solutions</a></b>
</td></tr></tbody></table>
<p>The problems on this page are copyrighted by the <a rel="nofollow" class="external text" href="http://www.maa.org">Mathematical Association of America</a>'s <a rel="nofollow" class="external text" href="http://amc.maa.org">American Mathematics Competitions</a>. <a href="/wiki/index.php/File:AMC_logo.png" class="image"><img alt="AMC logo.png" src="https://wiki-images.artofproblemsolving.com//8/8b/AMC_logo.png" width="97" height="84" style="vertical-align: middle" /></a>
</p>
<div style="clear:both;"></div>

<!--
NewPP limit report
Cached time: 20200814192934
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.128 seconds
Real time usage: 0.456 seconds
Preprocessor visited node count: 1320/1000000
Preprocessor generated node count: 3194/1000000
Post‐expand include size: 1646/2097152 bytes
Template argument size: 116/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 26316/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    7.127      1 -total
 66.61%    4.747      1 Template:AIME_box
 26.67%    1.901      1 Template:MAA_Notice
-->
</div>
<!-- Saved in parser cache with key wiki-wiki_:pcache:idhash:2674-0!canonical and timestamp 20200814192934 and revision id 131819
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://artofproblemsolving.com/wiki/index.php?title=2004_AIME_I_Problems/Problem_15&amp;oldid=131819">https://artofproblemsolving.com/wiki/index.php?title=2004_AIME_I_Problems/Problem_15&amp;oldid=131819</a>"</div>


									<div class="catlinks"><div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="/wiki/index.php/Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="/wiki/index.php/Category:Intermediate_Combinatorics_Problems" title="Category:Intermediate Combinatorics Problems">Intermediate Combinatorics Problems</a></li><li><a href="/wiki/index.php/Category:Intermediate_Number_Theory_Problems" title="Category:Intermediate Number Theory Problems">Intermediate Number Theory Problems</a></li></ul></div></div></div>


							</div>
		</div>
	</div>
</div>
<!-- search:off -->
  <div id="main-footer" class="no-print">
    <div class="footer-container">
      <div class="footer-topRow">
                      <a href="/online">
              <img class="footer-mainLogo"
              src="https://artofproblemsolving.com/assets/images/logos/aops-online-footer.svg"/>
            </a>
                    <div class="footer-wasc">
            <span>
              Art of Problem Solving is an
              <br class="wasc-break"/>
              <span class="footer-accredited">ACS WASC Accredited School</span>
            </span>
            <img class="footer-wascLogo"
            src="https://artofproblemsolving.com/assets/images/logos/wasc.png"/>
          </div>
      </div>
      <div class="footer-links">
        <div class="footer-col">
          <div class="footer-colHeader">aops programs</div>
          <a class="link" href="https://artofproblemsolving.com/online">AoPS Online</a>
          <a class="link" href="https://beastacademy.com">Beast Academy</a>
          <a class="link" href="https://aopsacademy.org">AoPS Academy</a>
        </div>

        <div class="footer-col">
          <div class="footer-colHeader">About</div>
          <a class="link" href="https://artofproblemsolving.com/company/staff">Our Team</a>
          <a class="link" href="https://artofproblemsolving.com/company/history">Our History</a>
          <a class="link" href="https://artofproblemsolving.com/company/careers">Jobs</a>
        </div>

        <div class="footer-col">
          <div class="footer-colHeader" style="left:-1px;">Site Info</div>
          <a class="link" href="https://artofproblemsolving.com/company/tos">Terms</a>
          <a class="link" href="https://artofproblemsolving.com/company/privacy">Privacy</a>
          <a class="link" href="https://artofproblemsolving.com/contact">Contact Us</a>
        </div>

        <div class="footer-col social">
          <div class="footer-colHeader">follow us</div>
          <div class="footer-social">
                          <a class="link" target="_blank" href="https://www.facebook.com/artofproblemsolving">
                <img src="https://artofproblemsolving.com/assets/images/socialmedia/facebook.svg" class="sm-icon"/>
              </a>
              <a class="link" target="_blank" href="http://twitter.com/AoPSNews">
                <img src="https://artofproblemsolving.com/assets/images/socialmedia/twitter.svg" class="sm-icon"/>
              </a>
              <a class="link" target="_blank" href="https://www.pinterest.com/artofproblemsolving/pins/">
                <img src="https://artofproblemsolving.com/assets/images/socialmedia/pinterest.svg" class="sm-icon"/>
                      </div>
        </div>

        <div class="footer-col">
          <div class="footer-colHeader">
            Subscribe for news and updates
          </div>
          <form method="post" action="/mailinglist">
            <input type="email" class="footer-email" placeholder="Enter e-mail" name="subscribe-email">
            <input type="hidden" name="new-books" value="on">
            <input type="hidden" name="classes" value="on">
            <input type="hidden" name="mathjams" value="on">
            <input type="submit" class="footer-submit" value="">
            <div class="footer-submit-arrow">
              <svg x="0px" y="0px" viewBox="0 0 289 289" enable-background="new 0 0 289 289">
                <g>
                  <path class="arrow-fill" d="M121.5,220.5c-2.6,0-5.1-1-7.1-2.9c-3.9-3.9-3.9-10.2,0-14.1l58.9-58.9l-58.9-58.9c-3.9-3.9-3.9-10.2,0-14.1c3.9-3.9,10.2-3.9,14.1,0l66,66c3.9,3.9,3.9,10.2,0,14.1l-66,66C126.6,219.5,124.1,220.5,121.5,220.5z"/>
                </g>
              </svg>
            </div>
          </form>
        </div>
      </div>
      <div class="copyright">
        <span>&copy; 2020 AoPS Incorporated
        </span>
      </div>
    </div>
  </div>

  <div id="small-footer-wrapper">
    <div class="footer-container">
              <a href="/online">
          <img class="footer-mainLogo"
          src="https://artofproblemsolving.com/assets/images/logos/aops-online-footer.svg"/>
        </a>
            <div class="copyright">
        &copy; 2020 Art of Problem Solving
        <div class="copyright-links">
          <a href="https://artofproblemsolving.com/company/staff">About Us</a>
          &nbsp;•&nbsp;
          <a href="https://artofproblemsolving.com/contact">Contact Us</a>
          &nbsp;•&nbsp;
          <a href="https://artofproblemsolving.com/company/tos">Terms</a>
          &nbsp;•&nbsp;
          <a href="https://artofproblemsolving.com/company/privacy">Privacy</a>
        </div>
      </div>
    </div>
  </div>

  <div id="login-form">

    <div class="error">
      Invalid username
    </div>

    <div class="info">
      Login to AoPS
    </div>
    <form>
      <div class="form-group">
        <div>
          <label>Username:</label>
        </div>
        <div>
          <input name="username" class="form-control" id="login-username" type="text" placeholder="Enter username or email address" autocapitalize="off">
        </div>
      </div>
      <div class="form-group">
        <div>
          <label>Password:</label>
        </div>
        <div>
          <input name="password" class="form-control" id="login-password" type="hidden" placeholder="Enter password" autocomplete="off">
        </div>
      </div>
    </form>
    <div class="form-group">
      <div>
      </div>
      <div>
        <button class="btn btn-primary" id="login-button" href="#">Login</button>
        <button class="btn" id="login-cancel-button" href="#">Cancel</button>
        <span style="padding-left:20px;" id="login-message"></span>
        <div style="margin-top:5px;">
          <label style="display:block;float:left;padding-right:10px;white-space:nowrap;line-height:1em;font-weight:normal">
            <input type="checkbox" name="stay-logged-in" id="login-stay-logged-in" style="vertical-align:middle;margin:0;">
            <span style="vertical-align:middle">Stay logged in</span>
          </label>
        </div>
      </div>
    </div>

    <div id="login-form-links">
      <p>
        <a href="https://artofproblemsolving.com/user/register.php">Create a new account</a>
      </p>
      <p>
        <a href="https://artofproblemsolving.com/user/resend-activation.php">Lost your activation email?</a>
      </p>
      <p>
        <a href="https://artofproblemsolving.com/user/reset-pw.php">Forgot your password or username?</a>
      </p>
    </div>
  </div>
<div id="print-footer" class="printer">Copyright &copy; 2020 Art of Problem Solving</div>


				<script>
			AoPS.bootstrap_data = [];
			AoPS.bd = AoPS.bootstrap_data; // Alias!
		</script>

				<!-- /search:off -->

	</body>
<!-- Cached 20200814194905 -->
</html>
