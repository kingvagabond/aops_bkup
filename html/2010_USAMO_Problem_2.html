<!DOCTYPE html>
<html>
	<head>
						<style>.async-hide { opacity: 0 !important} </style>
		<!-- Initialize the Data Layer First -->
		<script>
		window.dataLayer = window.dataLayer || [];
				</script>
		<!-- End Data Layer Initialization -->
		<!-- Page hiding snippet for Optimize -->
		<script>
		(function(a,s,y,n,c,h,i,d,e){s.className+=' '+y;
		h.end=i=function(){s.className=s.className.replace(RegExp(' ?'+y),'')};
		(a[n]=a[n]||[]).hide=h;setTimeout(function(){i();h.end=null},c);
		})(window,document.documentElement,'async-hide','dataLayer',4000,{'GTM-PJ447K5':true}); // add optimize container ID here
		</script>
		<!-- End Page hiding snippet for Optimize -->


		<!-- Google Tag Manager -->
		<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
		new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
		'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
		})(window,document,'script','dataLayer','GTM-59JWRGZ');</script>
		<!-- End Google Tag Manager -->
		<script>AoPS = {
			start_time : new Date().getTime(),
			bootstrap_data: [],
			session: {
				id: "wiki",
				user_id: 1,
				username: "Anonymous",
				avatar: "",
				logged_in: false,
				role: "unregistered_user",
				a: false,
				n: false
			}
		};
		AoPS.bd = AoPS.bootstrap_data;
		AoPS.bd.assetVersion = 2000;
		</script>

		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="initial-scale=1">



		<link rel="apple-touch-icon" href="/assets/images/apple-touch-icon.png">

		<title>Art of Problem Solving</title>



		<link rel="stylesheet" href="https://artofproblemsolving.com/assets/css/sharedsite.css">
		<link rel="stylesheet" href="https://artofproblemsolving.com/assets/css/navheader.css">
		<link rel="stylesheet" href="https://artofproblemsolving.com/assets/css/footer.css">
		<link rel="stylesheet" href="https://artofproblemsolving.com/assets/css/main-head.css">
    <link rel="icon" href="https://artofproblemsolving.com/online-favicon.ico?v=2">


		<script>
		if (!window.console) console = {log: function() {}, dir: function() {}};
		$$ = function( selector ) { return document.getElementById( selector ); }
		</script>

		<meta charset="UTF-8"/>
<title>2010 USAMO Problems/Problem 2 - AoPS Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"2010_USAMO_Problem_2","wgTitle":"2010 USAMO Problems/Problem 2","wgCurRevisionId":87683,"wgRevisionId":87683,"wgArticleId":8692,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"2010_USAMO_Problem_2","wgRelevantArticleId":8692,"wgRequestId":"1b51941f1c2f0b4d11347bba","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","site":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","skins.aops2":"ready"});mw.loader.implement("user.tokens@0p33mif",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.aops2.js"]);});</script>
<link rel="stylesheet" href="/wiki/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cskins.aops2&amp;only=styles&amp;skin=aops2"/>
<script async="" src="/wiki/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=aops2"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="/wiki/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=aops2"/>
<meta name="generator" content="MediaWiki 1.31.1"/>
<link rel="shortcut icon" href="/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="/wiki/opensearch_desc.php" title="AoPS Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://artofproblemsolving.com/wiki/api.php?action=rsd"/>
<link rel="alternate" type="application/atom+xml" title="AoPS Wiki Atom feed" href="/wiki/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/wiki/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=aops2&amp;sync=1"></script><![endif]-->

	</head>
		<body class="production mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-2010_USAMO_Problems_Problem_2 rootpage-2010_USAMO_Problems_Problem_2 skin-aops2 action-view resources">
		<noscript>
			<iframe src="https://www.googletagmanager.com/ns.html?id=GTM-59JWRGZ"
	height="0" width="0" style="display:none;visibility:hidden"></iframe>
		</noscript>
		<div id="page-wrapper">
			<!-- search:off -->

			<div id="header-wrapper" class="no-select">
        <div class="header-underlay">
          <div id="header">

            <!-- The gray bar at top -->
            <!-- see shared-site.css -->
						<div id="top-bar" class="sharedsite-wrapper">
							<div class="sharedsitebar">
								<a href="https://artofproblemsolving.com" class="mobile-title"></a>
								<div class="sharedsite-links">
																	<a class="site-link main" href="https://artofproblemsolving.com/company">
																		Art of Problem Solving
									</a>
									<div class="site">
																			<a class="site-link selected" href="https://artofproblemsolving.com">
																				<img src="https://artofproblemsolving.com/assets/images/logos/icon-online.svg" class="site-icon">
											<span class="site-name">AoPS Online</span>
										</a>
										<!-- Rich dropdown -->
										<div class="site-dropdown-wrapper">
											<div class="site-dropdown">
												<div class="site-info">
													<div class="site-logo">
														<img src="https://artofproblemsolving.com/assets/images/logos/aops-online.svg"/>
													</div>
													<div class="site-snippet">
														Math texts, online classes, and more
														<br/>for students in grades 5-12.
													</div>
													<a target="_blank" class="site-visit aops-primary" href="https://artofproblemsolving.com">
														Visit AoPS Online <span class="aops-font">‚</span>
													</a>
												</div>
												<div class="site-quick-nav">
													<a target="_blank" href="https://artofproblemsolving.com/store" class="btn btn-primary aops-btn">
														Books for Grades 5-12
													</a>
													<a target="_blank" href="https://artofproblemsolving.com/school" class="btn btn-primary aops-btn">
														Online Courses
													</a>
												</div>
											</div>
										</div>
										<!-- End rich dropdown -->
									</div>
									<div class="site">
										<a class="site-link" href="https://beastacademy.com">
											<img src="https://artofproblemsolving.com/assets/images/logos/icon-ba.svg" class="site-icon">
											<span class="site-name">Beast Academy</span>
										</a>
										<div class="site-dropdown-wrapper">
											<div class="site-dropdown">
												<div class="site-info">
													<div class="site-logo">
														<img src="https://artofproblemsolving.com/assets/images/logos/aops-ba.svg"/>
													</div>
													<div class="site-snippet">
														Engaging math books and online learning
														<br/>for students ages 8-13.
													</div>
													<a target="_blank" class="site-visit ba-primary" href="https://beastacademy.com">
														Visit Beast Academy <span class="aops-font">‚</span>
													</a>
												</div>
												<div class="site-quick-nav">
													<a target="_blank" href="https://beastacademy.com/books" class="btn btn-primary ba-btn">
														Books for Ages 8-13
													</a>
													<a target="_blank" href="https://beastacademy.com/online" class="btn btn-primary ba-btn">
														Beast Academy Online
													</a>
												</div>
											</div>
										</div>
									</div>
									<div class="site">
										<a class="site-link" href="//aopsacademy.org">
											<img src="https://artofproblemsolving.com/assets/images/logos/icon-academy.svg" class="site-icon">
											<span class="site-name">AoPS Academy</span>
										</a>
										<div class="site-dropdown-wrapper">
											<div class="site-dropdown">
												<div class="site-info">
													<div class="site-logo">
														<img src="https://artofproblemsolving.com/assets/images/logos/aops-academy.svg"/>
													</div>
													<div class="site-snippet">
														Nationwide learning centers
														<br/>for students in grades 2-12.
													</div>
													<a target="_blank" class="site-visit academy-primary" href="//aopsacademy.org">
														Visit AoPS Academy <span class="aops-font">‚</span>
													</a>
												</div>
												<div class="site-quick-nav">
													<a target="_blank" href="//aopsacademy.org/campuses" class="btn btn-primary academy-btn">
														Find a Campus
													</a>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>

            <!-- The white area where main menu options appear -->

            <!-- The menu links -->
            <div id="main-menubar">
              <div class="menubar-content">
                <div class="menubar-logo online">
                  <img class="menubar-hamburger" src="https://artofproblemsolving.com/assets/images/hamburger.svg"/>
                  <a class="logo-img-link" href="/online">
                    <img class="logo-img" src="https://artofproblemsolving.com/assets/images/logos/aops-online.svg"/>
                    <img class="logo-img-mobile" src="https://artofproblemsolving.com/assets/images/logos/aops-online-mobile.svg"/>
                    <img class="logo-img-small" src="https://artofproblemsolving.com/assets/images/logos/aops-online-mobile.svg"/>
                  </a>
                </div>
                <div class="menubar-links-outer">
                  <!-- The login links -->
                  <div class="menu-login-wrapper wiki">
                                        <div class="menu-login-item">
                                              <span id="header-login" class="login-button wiki-login-button no-select online-login-button">
                          Sign In
                        </span>
                                          </div>

                    <a href="https://artofproblemsolving.com/store/checkout" class="menu-login-item cart">
                      <img class="menu-cart-icon" src="https://artofproblemsolving.com/assets/images/top/cart-icon.svg">
                      <div class="menu-cart-items">
                                                  0
                                              </div>
                    </a>
                  </div>
                  <div class="menubar-labels online">
                    <div class="menubar-label school">
                      <a class="menubar-label-link" href="https://artofproblemsolving.com/school">
                        online school
                      </a>
                      <div class="menubar-dropdown">
                        <div class="triangle"></div>
                        <div class="dropdown-content">
													<!-- These have IDs for A/B testing purposes. T27691 -->
																										<a id="online-school-menu-how-school-works" href="https://artofproblemsolving.com/school/how-school-works"> How Classes Work </a>
													<a id="online-school-menu-catalog" href="https://artofproblemsolving.com/school/catalog"> Course Catalog </a>
													<a id="online-school-menu-schedule" href="https://artofproblemsolving.com/school/schedule"> Class Schedule </a>
													<a id="online-school-menu-recommmendations" href="https://artofproblemsolving.com/school/recommendations"> Recommendations </a>
													<a id="online-school-menu-woot-courses" href="https://artofproblemsolving.com/school/woot?gtmlist=School_Nav"> WOOT Courses </a>
													<a id="online-school-menu-handbook" href="https://artofproblemsolving.com/school/handbook/prospective">
														School Handbook </a>
													<a id="online-school-menu-mathjams"" href="https://artofproblemsolving.com/school/mathjams"> Math Jams </a>
																										                        </div>
                      </div>
                    </div>
                    <div class="menubar-label store">
                      <a class="menubar-label-link" href="/store">
                        bookstore
                      </a>
                      <div class="menubar-dropdown">
                        <div class="triangle"></div>
                        <div class="dropdown-content">
                                                    <a href="https://artofproblemsolving.com/store/list/aops-curriculum">AoPS Curriculum</a>
                          <a href="https://artofproblemsolving.com/store/list/beast-academy">Beast Academy</a>
                          <a href="https://artofproblemsolving.com/store/online">Online Books</a>
                          <a href="https://artofproblemsolving.com/store/recommendations">Recommendations</a>
                          <a href="https://artofproblemsolving.com/store/list/other-products">Other Books &amp; Gear</a>
                          <a href="https://artofproblemsolving.com/store/list/all-products">All Products</a>
                          <a href="https://artofproblemsolving.com/store/gift-certificates">Gift Certificates</a>
                                                  </div>
                      </div>
                    </div>
                    <div class="menubar-label community">
                      <a class="menubar-label-link" href="/community">
                        community
                      </a>
                      <div class="menubar-dropdown">
                        <div class="triangle"></div>
                        <div class="dropdown-content">
                                                    <a data-cmty href="https://artofproblemsolving.com/community">Forums</a>
                          <a data-cmty href="https://artofproblemsolving.com/community/c13_contests">Contests</a>
                          <a data-cmty href="https://artofproblemsolving.com/community/search">Search</a>
                          <a data-cmty href="https://artofproblemsolving.com/community/faq">Help</a>
                                                                            </div>
                      </div>
                    </div>
                    <div class="menubar-label resources">

                        <div class="menubar-label-link-outer">
                          <a class="menubar-label-link " href="/resources">
                            resources
                          </a>
                        </div>
                        <div class="menubar-dropdown">
                          <div class="triangle"></div>
                          <div class="dropdown-content">
                            <div class="dropdown-columns">
                                <div class="dropdown-category">
                                    <span class="dropdown-category-label">math training & tools</span>
                                    <a href="/alcumus">Alcumus</a>
                                    <a href="/videos">Videos</a>
                                    <a href="/ftw">For the Win!</a>
                                    <a href="/mathcounts_trainer">MATHCOUNTS Trainer</a>
                                    <a href="/texer">LaTeX TeXeR</a>
                                    <a href="/polymath">MIT PRIMES/CrowdMath</a>
                                                                    </div>
                                <div class="dropdown-column">
                                    <div class="dropdown-category category-in-column">
                                        <span class="dropdown-category-label">news & information</span>
                                        <a href="/news">AoPS News</a>
                                        <a href="/wiki/index.php?title=Main_Page">AoPS Wiki</a>
                                                                            </div>
                                    <div class="dropdown-category category-in-column">
                                        <span class="dropdown-category-label">just for fun</span>
                                        <a href="/reaper">Reaper</a>
                                        <a href="/greedcontrol">Greed Control</a>
                                    </div>
                                </div>
                            </div>
                            <div class="dropdown-view-more-link-container">
                                <a href="/resources" class="dropdown-view-more-link">view all <span class="aops-icon">0</span></a>
                            </div>
                          </div>
                        </div>


                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

				<noscript><div class="infobar">JavaScript is not enabled. JavaScript is required to fully utilize the site.</div></noscript>


				<div id="breadcrumbs-wrapper">
					<div id="submenu-icon"></div>
					<div id="breadcrumbs">
												<div class="title-wrapper"><div class="title"><a href="/wiki">AoPS Wiki</a></div></div>
												<div class="crumb-wrapper">
																							<span class="crumb crumb-1">
																	<a href="/resources">Resources</a>
																</span>
																								<i class="aops-font aops-angle-double-right"></i>
																<span class="crumb crumb-2">
																	<a href="/wiki">Aops Wiki</a>
																</span>
																								<i class="aops-font aops-angle-double-right"></i>
																<span class="crumb crumb-3">
																	2010 USAMO Problems/Problem 2																</span>
													</div>
					</div>
				</div>
			</div>
			<!-- /search:off -->


<div id="main-content" class="left-navigation wiki">
	<div id="side-column-wrapper">
		<div id="side-column">
						<div id="content-actions" class="menu open">
				<div class="submenu">
					<h1>Page</h1>
					<div class="submenu-wrapper">
						<span id="ca-nstab-main" class="selected"><a href="2010_USAMO_Problem_2" title="View the content page " accesskey="c">Article</a></span><span id="ca-talk" class="new"><a href="/wiki/index.php?title=Talk:2010_USAMO_Problem_2&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) " accesskey="t">Discussion</a></span><span id="ca-viewsource"><a href="/wiki/index.php?title=2010_USAMO_Problem_2&amp;action=edit" title="This page is protected.&#10;You can view its source " accesskey="e">View source</a></span><span id="ca-history"><a href="/wiki/index.php?title=2010_USAMO_Problem_2&amp;action=history" title="Past revisions of this page " accesskey="h">History</a></span>					</div>
				</div>
			</div>
			<div id="toolbox" class="menu open">
				<div class="submenu">
					<h1>Toolbox</h1>
					<div class="submenu-wrapper">
						<span id="n-recentchanges"><a href="Special:RecentChanges" title="A list of recent changes in the wiki " accesskey="r">Recent changes</a></span><span id="n-randompage"><a href="Special:Random" title="Load a random page " accesskey="x">Random page</a></span><span id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></span><span id="t-whatlinkshere"><a href="Special:WhatLinksHere/2010_USAMO_Problem_2" title="A list of all wiki pages that link here " accesskey="j">What links here</a></span><span id="t-specialpages"><a href="Special:SpecialPages" title="A list of all special pages " accesskey="q">Special pages</a></span>					</div>
				</div>
			</div>

			<div id="search" class="menu open">
				<h1>Search</h1>
				<div class="submenu-wrapper" style="margin-bottom:5px;">
					<form action="/wiki/index.php" id="searchform" class="mw-search">
						<input type="hidden" name="title" value="Special:Search">
						<input type="search" name="search" placeholder="Search" value="" accesskey="f" id="searchInput">
						<div style="margin:0 5px 5px 5px;text-align:right;"><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="btn btn-primary searchButton"/></div>
					</form>
				</div>
			</div>

			<!--
			<div class="menu open">
				<h1>Note</h1>
				<div class="submenu-wrapper" style="padding:10px;color:#444;">
					Please do not discuss the 2015 AMC 8 Competition on any website until November 25th.
				</div>
			</div>
			-->
		</div>
	</div>



	<div id="main-column" style="margin-top:10px">
				<div class="page-wrapper">
						<div id="mw-js-message" style="display:none;"></div>
			<h1 id="firstHeading" class="firstHeading">2010 USAMO Problems/Problem 2</h1>


			<div class="mw-body">

				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Problem"><span class="tocnumber">1</span> <span class="toctext">Problem</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Solution_1"><span class="tocnumber">2</span> <span class="toctext">Solution 1</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Solution_2"><span class="tocnumber">3</span> <span class="toctext">Solution 2</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Comment"><span class="tocnumber">4</span> <span class="toctext">Comment</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#See_also"><span class="tocnumber">5</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Problem">Problem</span></h2>
<p>There are <img src="https://latex.artofproblemsolving.com/1/7/4/174fadd07fd54c9afe288e96558c92e0c1da733a.png" class="latex" alt="$n$" width="10" height="8" /> students standing in a circle, one behind the
other. The students have heights <img src="https://latex.artofproblemsolving.com/7/0/2/7021b3038f1bbca4c50f2a1aebed0d9ca5fa8b51.png" class="latex" alt="$h_1 &lt; h_2 &lt; \ldots &lt; h_n$" style="vertical-align: -2px" width="148" height="15" />. If a
student with height <img src="https://latex.artofproblemsolving.com/7/5/c/75c33cd36b3b62765e1365ab5ab234d3227714dc.png" class="latex" alt="$h_k$" style="vertical-align: -2px" width="17" height="15" /> is standing directly behind a student
with height <img src="https://latex.artofproblemsolving.com/b/d/4/bd48836a9ad913abb9e0be8b37c26512a37fbabe.png" class="latex" alt="$h_{k-2}$" style="vertical-align: -2px" width="34" height="15" /> or less, the two students are permitted to
switch places. Prove that it is not possible to make more than
<img src="https://latex.artofproblemsolving.com/6/d/4/6d41d6d69007b91562901dd96aff7823b71639a2.png" class="latex" alt="$\binom{n}{3}$" style="vertical-align: -22px" width="35" height="53" /> such switches before reaching a position in which
no further switches are possible.
</p>
<h2><span class="mw-headline" id="Solution_1">Solution 1</span></h2>
<p>We adopt the usual convention that <img src="https://latex.artofproblemsolving.com/f/5/4/f542abdb428d1c9e30953f0af235463075c234c7.png" class="latex" alt="$\binom{i}{j} = 0$" style="vertical-align: -22px" width="69" height="53" /> unless <img src="https://latex.artofproblemsolving.com/0/0/5/0051849821ddc027007ddd67630038562808935e.png" class="latex" alt="$0 \le j \le i$" style="vertical-align: -3px" width="71" height="16" />.
With this, the binomial coefficients are defined for all integers via the
recursion:
</p>
<center>
<p><img src="https://latex.artofproblemsolving.com/f/b/1/fb1579802f11e06f8765d09d84cbda02489305c5.png" class="latexcenter" alt="\[\binom{0}{0} = 1, \quad \binom{n}{k} = \binom{n-1}{k} + \binom{n-1}{k-1}\]" width="313" height="53" />
</p>
</center>
<p>It is clear that the circle is oriented and all the students are facing in same direction (clockwise or counterclockwise). We'll call this direction <i>forward</i>.
</p><p>In any switch consider the taller student to have moved <i>forward</i> and the shorter student to have remained <i>stationary</i>. No backward motion is allowed. With this definition of forward motion, the first two students with heights <img src="https://latex.artofproblemsolving.com/3/2/d/32d78aae1741ff43c6f40e2077f1ab67900cca2c.png" class="latex" alt="$h_1$" style="vertical-align: -2px" width="16" height="15" /> and <img src="https://latex.artofproblemsolving.com/3/e/c/3ec781a0e6836ea5e030a44927477cfd5560fecb.png" class="latex" alt="$h_2$" style="vertical-align: -2px" width="16" height="15" /> are always stationary, while other students potentially move past them.
</p><p>For <img src="https://latex.artofproblemsolving.com/c/1/a/c1a21f8705d1c694796192dfe71e41cfad8fc07d.png" class="latex" alt="$k &gt; 2$" style="vertical-align: 0px" width="43" height="13" />, the student with height <img src="https://latex.artofproblemsolving.com/7/5/c/75c33cd36b3b62765e1365ab5ab234d3227714dc.png" class="latex" alt="$h_k$" style="vertical-align: -2px" width="17" height="15" /> can never switch places with the student with height <img src="https://latex.artofproblemsolving.com/c/c/6/cc6840b4d1514d875ddfae890ca36222cc4fbb86.png" class="latex" alt="$h_{k-1}$" style="vertical-align: -2px" width="34" height="15" />, and the former can make at most <img src="https://latex.artofproblemsolving.com/0/f/9/0f9dc56a5ff59e63eaefd81bad051d4324767d7a.png" class="latex" alt="$k-2$" width="41" height="12" /> more forward moves than the latter (when all the students of heights <img src="https://latex.artofproblemsolving.com/0/e/d/0ed8ffea849dcb997e1f8073bc6577875cfb0f76.png" class="latex" alt="$h_1, \ldots h_{k-2}$" style="vertical-align: -3px" width="84" height="16" /> are between <img src="https://latex.artofproblemsolving.com/7/5/c/75c33cd36b3b62765e1365ab5ab234d3227714dc.png" class="latex" alt="$h_k$" style="vertical-align: -2px" width="17" height="15" /> and <img src="https://latex.artofproblemsolving.com/c/c/6/cc6840b4d1514d875ddfae890ca36222cc4fbb86.png" class="latex" alt="$h_{k-1}$" style="vertical-align: -2px" width="34" height="15" /> in the forward direction).
</p><p>Therefore, if the <img src="https://latex.artofproblemsolving.com/a/e/8/ae885e9b7e6cdcc50a95b0fdbd189c421c22d730.png" class="latex" alt="$(k-1)^{\mathrm{st}}$" style="vertical-align: -4px" width="65" height="19" /> student can make <img src="https://latex.artofproblemsolving.com/b/7/6/b76f511d76f81a2bb5ef965856a7cd97fdf92820.png" class="latex" alt="$s_{k-1}$" style="vertical-align: -2px" width="32" height="10" /> forward steps, the <img src="https://latex.artofproblemsolving.com/f/6/2/f624ae35def0d5d998db1ac884c560c39d03aa9e.png" class="latex" alt="$k^{\mathrm{th}}$" width="22" height="15" /> student can make at most <img src="https://latex.artofproblemsolving.com/a/b/f/abfc0aeb550eb0558e3090328726fac5d3982482.png" class="latex" alt="$s_{k-1} + k - 2$" style="vertical-align: -2px" width="96" height="15" /> steps. With <img src="https://latex.artofproblemsolving.com/9/f/d/9fd33e0110b5fc5e12a446ede0a96ea5ed49ec32.png" class="latex" alt="$s_1 = s_2 = 0$" style="vertical-align: -2px" width="89" height="15" /> and <img src="https://latex.artofproblemsolving.com/e/e/c/eece1c608742d52ddbd3dd1db5f1ca4e1c1a4517.png" class="latex" alt="$s_3 = 0 + (3-2) = 1$" style="vertical-align: -4px" width="158" height="18" />, and a constant second difference of <img src="https://latex.artofproblemsolving.com/d/c/e/dce34f4dfb2406144304ad0d6106c5382ddd1446.png" class="latex" alt="$1$" style="vertical-align: 0px" width="8" height="12" />, we quickly see that <img src="https://latex.artofproblemsolving.com/d/8/d/d8d3d6e974e93fc9f6e85c5c107d2aa4cd31d7d9.png" class="latex" alt="$s_k = \binom{k-1}{2}$" style="vertical-align: -22px" width="106" height="53" />.
</p><p>With <img src="https://latex.artofproblemsolving.com/1/7/4/174fadd07fd54c9afe288e96558c92e0c1da733a.png" class="latex" alt="$n$" width="10" height="8" /> students in all, the total number of steps is therefore at most <img src="https://latex.artofproblemsolving.com/0/c/9/0c9111ba10f59dc2a5f989208fd147c11b50cdca.png" class="latex" alt="$\sum_{i=3}^{n}\binom{i-1}{2} = \binom{n}{3}$" style="vertical-align: -22px" width="153" height="53" />. The sum is a telescoping sum since: <img src="https://latex.artofproblemsolving.com/3/8/3/3839f1ab37ff0bdd18db10e8690f76e18e8bb111.png" class="latex" alt="$\binom{n}{3} - \binom{n-1}{3} = \binom{n-1}{2}.$" style="vertical-align: -22px" width="229" height="53" />
</p>
<h2><span class="mw-headline" id="Solution_2">Solution 2</span></h2>
<p>WLOG, let <img src="https://latex.artofproblemsolving.com/b/e/8/be8b4a749e0842de7c5df8248f2692abd31a2b9c.png" class="latex" alt="$h_k=k$" style="vertical-align: -2px" width="52" height="15" />.  Now, we find the end arrangement with the most switches possible.  We claim that the arrangement will be <img src="https://latex.artofproblemsolving.com/3/6/9/369d4695c021f8ac7146c3683a1352ba14ebb68b.png" class="latex" alt="$n,n-1,n-2,\dots ,1$" style="vertical-align: -3px" width="160" height="15" />, where the left to right direction is the "backwards" direction.  To prove this makes the most switches, we show that there is always at least one more switch that can be done for any other arrangement.  This is elementary to show.  There will always be one height <img src="https://latex.artofproblemsolving.com/2/6/e/26eeb5258ca5099acf8fe96b2a1049c48c89a5e6.png" class="latex" alt="$x$" width="10" height="8" /> such that the number to its right is <img src="https://latex.artofproblemsolving.com/4/1/c/41c544263a265ff15498ee45f7392c5f86c6d151.png" class="latex" alt="$2$" width="8" height="12" /> less than <img src="https://latex.artofproblemsolving.com/2/6/e/26eeb5258ca5099acf8fe96b2a1049c48c89a5e6.png" class="latex" alt="$x$" width="10" height="8" />, unless every number has <img src="https://latex.artofproblemsolving.com/d/4/b/d4baf6d4b1cfa69b68b3204b5e2eba0c5755fe20.png" class="latex" alt="$x-1$" style="vertical-align: 0px" width="40" height="12" /> to the right of <img src="https://latex.artofproblemsolving.com/2/6/e/26eeb5258ca5099acf8fe96b2a1049c48c89a5e6.png" class="latex" alt="$x$" width="10" height="8" /> (other than <img src="https://latex.artofproblemsolving.com/4/1/c/41c544263a265ff15498ee45f7392c5f86c6d151.png" class="latex" alt="$2$" width="8" height="12" /> and <img src="https://latex.artofproblemsolving.com/d/c/e/dce34f4dfb2406144304ad0d6106c5382ddd1446.png" class="latex" alt="$1$" style="vertical-align: 0px" width="8" height="12" />).  The exception occurs at our claim, so our claim is proven.  Now we want to find the maximum ways we can "undo" our arrangement.  But undoing a switch is just doing a switch from our arrangement in the opposite direction.  So, the start arrangement with the most possible switches is the reverse of the end arrangement or <img src="https://latex.artofproblemsolving.com/8/0/5/8059694ccb2edd29523d56af1ffcb1e2ea59ee1d.png" class="latex" alt="$1,2,3,\dots ,n$" style="vertical-align: -3px" width="94" height="16" />.
We want to find how many switches must be done to get from the start arrangement to the end arrangement.  We start by switching <img src="https://latex.artofproblemsolving.com/1/7/4/174fadd07fd54c9afe288e96558c92e0c1da733a.png" class="latex" alt="$n$" width="10" height="8" /> around until it cannot be switched anymore.  We find that we can switch <img src="https://latex.artofproblemsolving.com/1/7/4/174fadd07fd54c9afe288e96558c92e0c1da733a.png" class="latex" alt="$n$" width="10" height="8" /> <img src="https://latex.artofproblemsolving.com/e/f/9/ef9b02e32cfba0db0f9038a8d077596720f62e91.png" class="latex" alt="$n-2$" width="41" height="12" /> times.  When we are switching (or, in other words, moving to the right) the number <img src="https://latex.artofproblemsolving.com/8/c/3/8c325612684d41304b9751c175df7bcc0f61f64f.png" class="latex" alt="$k$" width="9" height="12" />, we can switch it <img src="https://latex.artofproblemsolving.com/0/f/9/0f9dc56a5ff59e63eaefd81bad051d4324767d7a.png" class="latex" alt="$k-2$" width="41" height="12" /> times before it is to the left of <img src="https://latex.artofproblemsolving.com/7/d/c/7dc6fab4c2fdb4e9046030fbfdcf6ea721b05602.png" class="latex" alt="$k-1$" style="vertical-align: 0px" width="40" height="13" />.  But then we can also switch each of <img src="https://latex.artofproblemsolving.com/6/c/0/6c0b7e87e8a2a21f0975b563601ddfca1f37d70b.png" class="latex" alt="$k+1,k+2,\dots ,n$" style="vertical-align: -3px" width="141" height="16" /> (in that order) <img src="https://latex.artofproblemsolving.com/0/f/9/0f9dc56a5ff59e63eaefd81bad051d4324767d7a.png" class="latex" alt="$k-2$" width="41" height="12" /> times before they get stopped again.  Let <img src="https://latex.artofproblemsolving.com/3/4/5/34593b447022139b0ed00c489b9822b8cff23e33.png" class="latex" alt="$x=n-k+2$" style="vertical-align: -1px" width="108" height="14" />.  Then, the sum of the switches is <img src="https://latex.artofproblemsolving.com/7/6/1/76192928f9e25dc18cce59bac46e3ccc3a4ffb64.png" class="latex" alt="$\sum\limits_{x=2}^{n-1} (n-x)(x-1)=\sum\limits_{x=1}^{n} (n-x)(x-1)$" style="vertical-align: -20px" width="301" height="50" />.
</p><p>Rearranging and summing, we get <img src="https://latex.artofproblemsolving.com/c/3/1/c31fc772e0d495b17113733c0f4b27d55aa34089.png" class="latexcenter" alt="\[\sum\limits_{x=1}^{n} x(n+1)-\sum\limits_{x=1}^{n} n -\sum\limits_{x=1}^{n} x^2=\frac{n(n+1)^2}2-n^2-\frac{n(n+1)(2n+1)}6=\frac{3n(n^2+1)}6-\frac{n(n+1)(2n+1)}6=\frac{n(n^2-3n+2)}6=\frac{n(n-1)(n-2)}{3!}=\binom{n}{3}\]" width="1106" height="53" />
</p>
<h2><span class="mw-headline" id="Comment">Comment</span></h2>
<p>This process of switching is very similar to Bubble Sort, except that the terms must be in consecutive decreasing order, and wraps around <img src="https://latex.artofproblemsolving.com/c/2/7/c27ce6e88e3d7752975f33bd94b5998bb1407955.png" class="latex" alt="$2,1,n,n-1\dots$" style="vertical-align: -3px" width="118" height="15" />. This answer seems to disagree, though, because the worst case <img src="https://latex.artofproblemsolving.com/5/1/d/51da37d984564162c87710ca27bea422f657fb73.png" class="latex" alt="$O$" width="13" height="12" /> efficiency is <img src="https://latex.artofproblemsolving.com/6/0/0/6006bba637eef443381fbaff768fa62d9ff41e62.png" class="latex" alt="$n^2$" width="17" height="15" />, not <img src="https://latex.artofproblemsolving.com/1/5/6/1568751d281ed49e55a7e1b6ed4f51a1d3d97336.png" class="latex" alt="$\frac{n(n-1)(n-2)}{6}$" style="vertical-align: -12px" width="126" height="38" />.
</p><p><a rel="nofollow" class="external free" href="https://en.wikipedia.org/wiki/Bubble_sort">https://en.wikipedia.org/wiki/Bubble_sort</a>
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<table class="wikitable" style="margin:0.5em auto; font-size:95%; border:1px solid black; width:40%;">
<tbody><tr>
<td style="background:#ccf;text-align:center;" colspan="3"><b><a href="2010_USAMO" title="2010 USAMO">2010 USAMO</a></b> (<b><a href="2010_USAMO_Problems" title="2010 USAMO Problems">Problems</a></b> • <a rel="nofollow" class="external text" href="http://www.artofproblemsolving.com/Forum/resources.php?c=182&amp;cid=27&amp;year=2010">Resources</a>)
</td></tr>
<tr>
<td width="50%" align="center" rowspan="1">Preceded&#160;by<br /><b><a href="2010_USAMO_Problem_1" title="2010 USAMO Problems/Problem 1">Problem 1</a></b>
</td>
<td width="50%" align="center" rowspan="1">Followed&#160;by<br /><b><a href="2010_USAMO_Problem_3" title="2010 USAMO Problems/Problem 3">Problem 3</a></b>
</td></tr>
<tr>
<td colspan="3" style="text-align:center;"><a href="2010_USAMO_Problem_1" title="2010 USAMO Problems/Problem 1">1</a> <b>•</b> <a class="mw-selflink selflink">2</a> <b>•</b> <a href="2010_USAMO_Problem_3" title="2010 USAMO Problems/Problem 3">3</a> <b>•</b> <a href="2010_USAMO_Problem_4" title="2010 USAMO Problems/Problem 4">4</a> <b>•</b> <a href="2010_USAMO_Problem_5" title="2010 USAMO Problems/Problem 5">5</a> <b>•</b> <a href="2010_USAMO_Problem_6" title="2010 USAMO Problems/Problem 6">6</a>
</td></tr>
<tr>
<td colspan="3" style="text-align:center;"><b><a href="USAMO_Problems_and_Solutions" title="USAMO Problems and Solutions"> All USAMO Problems and Solutions</a></b>
</td></tr></tbody></table>
<p>The problems on this page are copyrighted by the <a rel="nofollow" class="external text" href="http://www.maa.org">Mathematical Association of America</a>'s <a rel="nofollow" class="external text" href="http://amc.maa.org">American Mathematics Competitions</a>. <a href="File:AMC_logo.png" class="image"><img alt="AMC logo.png" src="https://wiki-images.artofproblemsolving.com//8/8b/AMC_logo.png" width="97" height="84" style="vertical-align: middle" /></a>
</p>
<div style="clear:both;"></div>

<!--
NewPP limit report
Cached time: 20200715095945
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.082 seconds
Real time usage: 0.085 seconds
Preprocessor visited node count: 527/1000000
Preprocessor generated node count: 1264/1000000
Post‐expand include size: 1202/2097152 bytes
Template argument size: 48/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 9317/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    5.095      1 -total
 65.93%    3.359      1 Template:USAMO_newbox
 30.73%    1.566      1 Template:MAA_Notice
-->
</div>
<!-- Saved in parser cache with key wiki-wiki_:pcache:idhash:8692-0!canonical and timestamp 20200715095945 and revision id 87683
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://artofproblemsolving.com/wiki/index.php?title=2010_USAMO_Problem_2&amp;oldid=87683">https://artofproblemsolving.com/wiki/index.php?title=2010_USAMO_Problem_2&amp;oldid=87683</a>"</div>


									<div class="catlinks"><div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div></div>


							</div>
		</div>
	</div>
</div>
<!-- search:off -->
  <div id="main-footer" class="no-print">
    <div class="footer-container">
      <div class="footer-topRow">
                      <a href="/online">
              <img class="footer-mainLogo"
              src="https://artofproblemsolving.com/assets/images/logos/aops-online-footer.svg"/>
            </a>
                    <div class="footer-wasc">
            <span>
              Art of Problem Solving is an
              <br class="wasc-break"/>
              <span class="footer-accredited">ACS WASC Accredited School</span>
            </span>
            <img class="footer-wascLogo"
            src="https://artofproblemsolving.com/assets/images/logos/wasc.png"/>
          </div>
      </div>
      <div class="footer-links">
        <div class="footer-col">
          <div class="footer-colHeader">aops programs</div>
          <a class="link" href="https://artofproblemsolving.com/online">AoPS Online</a>
          <a class="link" href="https://beastacademy.com">Beast Academy</a>
          <a class="link" href="https://aopsacademy.org">AoPS Academy</a>
        </div>

        <div class="footer-col">
          <div class="footer-colHeader">About</div>
          <a class="link" href="https://artofproblemsolving.com/company/staff">Our Team</a>
          <a class="link" href="https://artofproblemsolving.com/company/history">Our History</a>
          <a class="link" href="https://artofproblemsolving.com/company/careers">Jobs</a>
        </div>

        <div class="footer-col">
          <div class="footer-colHeader" style="left:-1px;">Site Info</div>
          <a class="link" href="https://artofproblemsolving.com/company/tos">Terms</a>
          <a class="link" href="https://artofproblemsolving.com/company/privacy">Privacy</a>
          <a class="link" href="https://artofproblemsolving.com/contact">Contact Us</a>
        </div>

        <div class="footer-col social">
          <div class="footer-colHeader">follow us</div>
          <div class="footer-social">
                          <a class="link" target="_blank" href="https://www.facebook.com/artofproblemsolving">
                <img src="https://artofproblemsolving.com/assets/images/socialmedia/facebook.svg" class="sm-icon"/>
              </a>
              <a class="link" target="_blank" href="http://twitter.com/AoPSNews">
                <img src="https://artofproblemsolving.com/assets/images/socialmedia/twitter.svg" class="sm-icon"/>
              </a>
              <a class="link" target="_blank" href="https://www.pinterest.com/artofproblemsolving/pins/">
                <img src="https://artofproblemsolving.com/assets/images/socialmedia/pinterest.svg" class="sm-icon"/>
                      </div>
        </div>

        <div class="footer-col">
          <div class="footer-colHeader">
            Subscribe for news and updates
          </div>
          <form method="post" action="/mailinglist">
            <input type="email" class="footer-email" placeholder="Enter e-mail" name="subscribe-email">
            <input type="hidden" name="new-books" value="on">
            <input type="hidden" name="classes" value="on">
            <input type="hidden" name="mathjams" value="on">
            <input type="submit" class="footer-submit" value="">
            <div class="footer-submit-arrow">
              <svg x="0px" y="0px" viewBox="0 0 289 289" enable-background="new 0 0 289 289">
                <g>
                  <path class="arrow-fill" d="M121.5,220.5c-2.6,0-5.1-1-7.1-2.9c-3.9-3.9-3.9-10.2,0-14.1l58.9-58.9l-58.9-58.9c-3.9-3.9-3.9-10.2,0-14.1c3.9-3.9,10.2-3.9,14.1,0l66,66c3.9,3.9,3.9,10.2,0,14.1l-66,66C126.6,219.5,124.1,220.5,121.5,220.5z"/>
                </g>
              </svg>
            </div>
          </form>
        </div>
      </div>
      <div class="copyright">
        <span>&copy; 2020 AoPS Incorporated
        </span>
      </div>
    </div>
  </div>

  <div id="small-footer-wrapper">
    <div class="footer-container">
              <a href="/online">
          <img class="footer-mainLogo"
          src="https://artofproblemsolving.com/assets/images/logos/aops-online-footer.svg"/>
        </a>
            <div class="copyright">
        &copy; 2020 Art of Problem Solving
        <div class="copyright-links">
          <a href="https://artofproblemsolving.com/company/staff">About Us</a>
          &nbsp;•&nbsp;
          <a href="https://artofproblemsolving.com/contact">Contact Us</a>
          &nbsp;•&nbsp;
          <a href="https://artofproblemsolving.com/company/tos">Terms</a>
          &nbsp;•&nbsp;
          <a href="https://artofproblemsolving.com/company/privacy">Privacy</a>
        </div>
      </div>
    </div>
  </div>

  <div id="login-form">

    <div class="error">
      Invalid username
    </div>

    <div class="info">
      Login to AoPS
    </div>
    <form>
      <div class="form-group">
        <div>
          <label>Username:</label>
        </div>
        <div>
          <input name="username" class="form-control" id="login-username" type="text" placeholder="Enter username or email address" autocapitalize="off">
        </div>
      </div>
      <div class="form-group">
        <div>
          <label>Password:</label>
        </div>
        <div>
          <input name="password" class="form-control" id="login-password" type="hidden" placeholder="Enter password" autocomplete="off">
        </div>
      </div>
    </form>
    <div class="form-group">
      <div>
      </div>
      <div>
        <button class="btn btn-primary" id="login-button" href="#">Login</button>
        <button class="btn" id="login-cancel-button" href="#">Cancel</button>
        <span style="padding-left:20px;" id="login-message"></span>
        <div style="margin-top:5px;">
          <label style="display:block;float:left;padding-right:10px;white-space:nowrap;line-height:1em;font-weight:normal">
            <input type="checkbox" name="stay-logged-in" id="login-stay-logged-in" style="vertical-align:middle;margin:0;">
            <span style="vertical-align:middle">Stay logged in</span>
          </label>
        </div>
      </div>
    </div>

    <div id="login-form-links">
      <p>
        <a href="https://artofproblemsolving.com/user/register.php">Create a new account</a>
      </p>
      <p>
        <a href="https://artofproblemsolving.com/user/resend-activation.php">Lost your activation email?</a>
      </p>
      <p>
        <a href="https://artofproblemsolving.com/user/reset-pw.php">Forgot your password or username?</a>
      </p>
    </div>
  </div>
<div id="print-footer" class="printer">Copyright &copy; 2020 Art of Problem Solving</div>


				<script>
			AoPS.bootstrap_data = [];
			AoPS.bd = AoPS.bootstrap_data; // Alias!
		</script>

				<!-- /search:off -->

	</body>
<!-- Cached 20200715095946 -->
</html>
